!function(e){function t(t){for(var r,i,s=t[0],o=t[1],l=0,a=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&a.push(n[i][0]),n[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(c&&c(t);a.length;)a.shift()()}var r={},i={0:0},n={0:0};function s(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[];i[e]?t.push(i[e]):0!==i[e]&&{1:1,2:1}[e]&&t.push(i[e]=new Promise((function(t,r){for(var n=e+".bundle.992c6d7ae269b67dd59f.css",o=s.p+n,l=document.getElementsByTagName("link"),a=0;a<l.length;a++){var c=(h=l[a]).getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(c===n||c===o))return t()}var u=document.getElementsByTagName("style");for(a=0;a<u.length;a++){var h;if((c=(h=u[a]).getAttribute("data-href"))===n||c===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete i[e],d.parentNode.removeChild(d),r(s)},d.href=o,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){i[e]=0})));var r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,i){r=n[e]=[t,i]}));t.push(r[2]=o);var l,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=function(e){return s.p+""+({}[e]||e)+".bundle."+{1:"bd42af97cdfee3c25593",2:"f8a95cda72df871c4dfd"}[e]+".js"}(e);var c=new Error;l=function(t){a.onerror=a.onload=null,clearTimeout(u);var r=n[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,r[1](c)}n[e]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:a})}),12e4);a.onerror=a.onload=l,document.head.appendChild(a)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var c=l;s(s.s=40)}([function(e,t,r){(function(e){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},n=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var i=arguments,s=i.length,o=String(e).replace(n,(function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}default:return e}})),a=i[r];r<s;a=i[++r])v(a)||!R(a)?o+=" "+a:o+=" "+l(a);return o},t.deprecate=function(r,i){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,i).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),n=!0}return r.apply(this,arguments)}};var s,o={};function l(e,r){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(r)?i.showHidden=r:r&&t._extend(i,r),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),u(i,e,i.depth)}function a(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function c(e,t){return e}function u(e,r,i){if(e.customInspect&&r&&I(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(i,e);return g(n)||(n=u(e,n,i)),n}var s=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,r);if(s)return s;var o=Object.keys(r),l=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),_(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(r);if(0===o.length){if(I(r)){var a=r.name?": "+r.name:"";return e.stylize("[Function"+a+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(_(r))return h(r)}var c,R="",P=!1,O=["{","}"];(f(r)&&(P=!0,O=["[","]"]),I(r))&&(R=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(R=" "+RegExp.prototype.toString.call(r)),E(r)&&(R=" "+Date.prototype.toUTCString.call(r)),_(r)&&(R=" "+h(r)),0!==o.length||P&&0!=r.length?i<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=P?function(e,t,r,i,n){for(var s=[],o=0,l=t.length;o<l;++o)S(t,String(o))?s.push(d(e,t,r,i,String(o),!0)):s.push("");return n.forEach((function(n){n.match(/^\d+$/)||s.push(d(e,t,r,i,n,!0))})),s}(e,r,i,l,o):o.map((function(t){return d(e,r,i,l,t,P)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,R,O)):O[0]+R+O[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,i,n,s){var o,l,a;if((a=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]}).get?l=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(l=e.stylize("[Setter]","special")),S(i,n)||(o="["+n+"]"),l||(e.seen.indexOf(a.value)<0?(l=v(r)?u(e,a.value,null):u(e,a.value,r-1)).indexOf("\n")>-1&&(l=s?l.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+l.split("\n").map((function(e){return"   "+e})).join("\n")):l=e.stylize("[Circular]","special")),y(o)){if(s&&n.match(/^\d+$/))return l;(o=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+l}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return R(e)&&"[object RegExp]"===P(e)}function R(e){return"object"==typeof e&&null!==e}function E(e){return R(e)&&"[object Date]"===P(e)}function _(e){return R(e)&&("[object Error]"===P(e)||e instanceof Error)}function I(e){return"function"==typeof e}function P(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(y(s)&&(s={production:!0,baseUrl:"https://your-prod-url.com.br",default:{production:!0,baseUrl:"https://your-prod-url.com.br"}}.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(s)){var i=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,i,e)}}else o[r]=function(){};return o[r]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=R,t.isDate=E,t.isError=_,t.isFunction=I,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(43);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",D(),t.format.apply(t,arguments))},t.inherits=r(44),t._extend=function(e,t){if(!t||!R(t))return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e};var w="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(w&&e[w]){var t;if("function"!=typeof(t=e[w]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,w,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,i=new Promise((function(e,i){t=e,r=i})),n=[],s=0;s<arguments.length;s++)n.push(arguments[s]);n.push((function(e,i){e?r(e):t(i)}));try{e.apply(this,n)}catch(e){r(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),w&&Object.defineProperty(t,w,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=w,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return n.apply(s,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(C,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,i(t)),r}}).call(this,r(18))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderConfig=t.isInjectable=t.Injectable=t.INJECTABLE_METADATA_KEY=void 0,r(8),t.INJECTABLE_METADATA_KEY=Symbol("INJECTABLE_KEY"),t.Injectable=function(e){return function(r){return e&&Object.assign(r.prototype,e),Reflect.defineMetadata(t.INJECTABLE_METADATA_KEY,!0,r),r}},t.isInjectable=function(e){return!0===Reflect.getMetadata(t.INJECTABLE_METADATA_KEY,e)};t.ProviderConfig=class{constructor(){this.single=!1}}},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ListenerSubscribed=t.ElementListenersCollector=void 0;const n=r(1);let s=class{constructor(){this.listenersSubscribed=[]}subscribe(e,t,r,i=!1,n){if(e){let s=new o({internal:i,target:e,eventName:t,realCallback:r,options:n,applied:!0});return s.callback=e=>{s.beforeListen&&s.beforeListen.forEach(e=>e()),r(e),s.afterListen&&s.afterListen.forEach(e=>e())},this.listenersSubscribed.push(s),s.target.addEventListener(s.eventName,s.callback,s.options),()=>this.unsubscribe(s)}return()=>{}}getSubscribersByTarget(e){return this.listenersSubscribed.filter(t=>t.target===e)}getSubscribedsByTargetAndEventName(e,t){return this.listenersSubscribed.filter(r=>r.target===e&&r.eventName===t)}unsubscribe(e){e&&e.applied&&e.target.removeEventListener(e.eventName,e.callback),this.listenersSubscribed=this.listenersSubscribed.filter(t=>t!==e)}unsubscribeAll(){let e=this.listenersSubscribed.pop();for(;e;)e.target&&e.applied&&e.target.removeEventListener(e.eventName,e.callback),e=this.listenersSubscribed.pop()}unsubscribeAllFromElement(e){if(e){let t=this.listenersSubscribed.filter(t=>t.target===e);if(t.length){for(let e of t)e.target&&e.applied&&e.target.removeEventListener(e.eventName,e.callback);this.listenersSubscribed=this.listenersSubscribed.filter(e=>!t.some(t=>e===t))}}}addActionsInElementsListeners(e,t,r){if(t||r)for(let i of this.getSubscribersByTarget(e))i.beforeListen.some(e=>e===t)||i.beforeListen.push(t),i.afterListen.some(e=>e===r)||i.afterListen.push(r)}};s=i([n.Injectable({single:!0})],s),t.ElementListenersCollector=s;class o{constructor(e){this.applied=!1,this.beforeListen=[],this.afterListen=[],Object.assign(this,e)}}t.ListenerSubscribed=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrepareDirective=void 0,r(8);const i=r(0),n=r(22),s=r(1);t.PrepareDirective=function(e){return function(t){var r,o;return e=new n.DirectiveConfig(e),t.prototype.type="Directive",t.prototype._selectors=i.isArray(e.selector)?Array.from(new Set(e.selector)):e.selector?[e.selector]:[],t.prototype._inputs=null!==(r=e.inputs)&&void 0!==r?r:[],t.prototype._outputs=null!==(o=e.outputs)&&void 0!==o?o:[],t.prototype.validate=e=>{let r=t.prototype._selectors,i=t.name;if(r&&r.length){let n=[/^(\[).*(\])$/g,/^(\().*(\))$/g,/^[a-zA-Z].*[a-zA-Z]$/g];for(let s of r){if(!n.some(e=>!e.test(s)))throw Error(`The ${i} has invalid selector: "${s}".`);if(e.some(e=>e===t))throw Error(`The ${i} is already added.`);{let t=e.find(e=>e.prototype._selectors.some(e=>e===s));if(t)throw Error(`The ${i} has selector equals another directive already added. The another directive is: ${t.name}`)}}}},Reflect.defineMetadata(s.INJECTABLE_METADATA_KEY,!0,t),t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Directive=void 0;const i=r(16),n=r(36),s=r(0);t.Directive=class{constructor(){this.all=()=>[],this.inputs={},this.outputs={}}get selectors(){return this._selectors}get selector(){let e=this.selectorActive;return(null!=e?e:"").replace(/\(|\)/g,"").replace(/\[|\]/g,"")}get selectorIsInput(){return!this.selectorIsOutput}get selectorIsOutput(){let e=this.selectorActive;return/^\(([^)]+)\)$/g.test(e)}get value(){return this.selector?this.selectorIsOutput?this.outputs[this.selector]:this.inputs[this.selector]:null}insertInput(e,t){(this._inputs.indexOf(e)>=0||this._selectors.some(t=>t.replace(/\[|\]/g,"")===e))&&Object.defineProperty(this.inputs,e,{get:()=>t(),enumerable:!0,configurable:!0})}insertOutput(e,t){(this._outputs.indexOf(e)>=0||this._selectors.some(t=>t===`(${e})`))&&(this.outputs[e]=e=>{let r=!s.isNullOrUndefined(e);r&&Object.assign(this.scope,{$event:e}),this.compile(t()),r&&delete this.scope.$event})}render(e=null){return this.scope instanceof i.Page||this.scope instanceof n.Dialog?this.scope.render(e):void 0}compile(e){return this.scope instanceof i.Page||this.scope instanceof n.Dialog?this.scope.compile(e):void 0}get others(){return this.all().filter(e=>e!==this)}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function l(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NimbleAppState=t.NimbleApp=void 0,r(42);const n=r(11),s=r(50),o=r(51),l=r(52),a=r(53),c=r(17),u=r(54),h=r(70),d=r(71),f=r(6),p=r(29);class v{constructor(e){this.config=e,this.containerInjector=new h.Container,this.afterRenderFn=null,this.state=m.INITIALIZING,this.firstRender=!0,this.changedRoute=!1,this._rootElement=null,this._baseHref="/",this.iterationElementsApplied={real:[],virtual:[]},this.directives=[]}get rootElement(){return this._rootElement}get baseHref(){return this._baseHref}get hasBaseHref(){return""!==this.baseHref&&"/"!==this.baseHref}get routes(){return n.Router.routes}static config(e){return this.instance||(this.instance=new v(e),this.instance.afterInstanciate()),this.instance}afterInstanciate(){var e,t;try{this.defineRootElement(),this.registerDirectives(),this.registerProvidersInContainerInjector(),this._baseHref=null!==(t=null===(e=document.head.querySelector("base"))||void 0===e?void 0:e.href)&&void 0!==t?t:"/",this._baseHref=this._baseHref.replace(location.origin,""),n.Router.useHash=this.config.useHash,n.Router.registerRoutes(this.config.routes),this.routeRender=this.containerInjector.inject(p.RouteRender)}catch(e){console.error(e)}}defineRootElement(){this._rootElement=document.querySelector("nimble-root"),this.rootElement?(this.rootElement.innerHTML="",this.rootElement.style.removeProperty("visibility")):console.error("Nimble not work, because the '<nimble-root></nimble-root>' element not found in body.")}registerDirectives(){let e=[...u.INTERNAL_DIRECTIVES];this.config.directives&&this.config.directives.length>0&&(e=e.concat(this.config.directives)),e.forEach(e=>{try{e.prototype.validate(this.directives),this.directives.push(e)}catch(e){console.error(e)}})}registerProvidersInContainerInjector(){let e=[...d.INTERNAL_PROVIDERS];this.config.providers&&this.config.providers.length>0&&(e=e.concat(this.config.providers)),this.providers=e,this.providers.forEach(e=>{e.prototype.single?this.containerInjector.addProvider({provide:e,useSingleton:e}):this.containerInjector.addProvider({provide:e,useClass:e})})}start(){return this.state===m.INITIALIZING&&(this.registerElements(),n.Router.addListener(c.RouterState.STARTED_CHANGE,this.onRouteStartChange.bind(this)),n.Router.addListener(c.RouterState.FINISHED_CHANGE,this.onRouteFinishedChange.bind(this)),n.Router.addListener(c.RouterState.CHANGE_ERROR,this.onRouteChangeError.bind(this)),n.Router.addListener(c.RouterState.STARTED_LOADING,this.onRouteStartedLoading.bind(this)),n.Router.addListener(c.RouterState.FINISHED_LOADING,this.onRouteFinishedLoading.bind(this)),n.Router.addListener(c.RouterState.ERROR_LOADING,this.onRouteErrorLoading.bind(this)),n.Router.addListener(c.RouterState.STARTED_RERENDER,this.onRouteStartRerender.bind(this)),n.Router.addListener(c.RouterState.FINISHED_RERENDER,this.onRouteFinishedRerender.bind(this)),n.Router.addListener(c.RouterState.RENDERING,this.onRouteRendering.bind(this)),n.Router.start(),this.state=m.INITIALIZED),v.instance}registerElements(){window.customElements.define("nimble-page",s.NimblePage),window.customElements.define("nimble-router",o.NimbleRouter),window.customElements.define("nimble-dialog",l.NimbleDialog),window.customElements.define("nimble-dialog-area",a.NimbleDialogArea)}onRouteStartChange(e){this.changedRoute=!1}onRouteRendering(e){return i(this,void 0,void 0,(function*(){e.route&&(yield this.routeRender.prepareRouteToCompileAndRender(e.route),this.routeRender.compileAndRenderRoute(e.route))}))}onRouteFinishedChange(e){var t;return i(this,void 0,void 0,(function*(){if(e.route){this.state=m.RERENDERING;const r=performance.now();console.log("WILL-CHANGED",e.route.path),yield this.routeRender.notifyRoutesAfterRouteChanged(e.route),console.log("CHANGED",e.route.path,performance.now()-r),this.changedRoute=!0,null===(t=e.route.pageInstance)||void 0===t||t.render()}}))}onRouteChangeError(e){}onRouteStartedLoading(e){}onRouteFinishedLoading(e){}onRouteErrorLoading(e){}onRouteStartRerender(e){n.Router.state,n.Router.previousState;this.state=m.RERENDERING,this.routeRender.rerenderRoute(e.route)}onRouteFinishedRerender(e){return i(this,void 0,void 0,(function*(){const{isRendered:t}=yield this.routeRender.notifyRoutesAfterRerender(e.route);this.changedRoute&&t&&(yield this.routeRender.notifyRoutesAfterInit(e.route),yield this.checkHashLinkAfterRouteChanged()),document.dispatchEvent(new Event("render-event")),this.state=m.INITIALIZED}))}checkHashLinkAfterRouteChanged(){return i(this,void 0,void 0,(function*(){this.changedRoute=!1,location.hash&&!this.config.useHash?yield new Promise(e=>{setTimeout(()=>{let t=location.hash;location.hash="",location.hash=t,e()},250)}):(document.body.style.scrollBehavior="initial",document.children.item(0).style.scrollBehavior="initial",yield new Promise(e=>{setTimeout(()=>{document.body.scrollTo({top:0,left:0}),document.children.item(0).scrollTo({top:0,left:0}),document.body.style.scrollBehavior="",document.children.item(0).style.scrollBehavior="",e()})}))}))}static inject(e,t){return this.instance.containerInjector.inject(e,t)}static registerProvider(e){this.instance.containerInjector.addProvider(e)}static unregisterProvider(e){this.instance.containerInjector.removeProvider(e)}static get listener(){return this.instance.containerInjector.inject(f.ElementListener)}}var m;t.NimbleApp=v,function(e){e.INITIALIZING="INITIALIZING",e.INITIALIZED="INITIALIZED",e.RERENDERING="RERENDERING"}(m=t.NimbleAppState||(t.NimbleAppState={}))},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ElementListener=void 0;const s=r(1),o=r(2);let l=class{constructor(e){this.listenersCollector=e}listen(e,t,r,i){return this.listenersCollector.subscribe(e,t,r,!1,i)}};l=i([s.Injectable(),n("design:paramtypes",[o.ElementListenersCollector])],l),t.ElementListener=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderHelper=void 0;const i=r(20),n=r(13),s=r(23);class o{static isPureElement(e){return e instanceof HTMLElement&&(e=e.tagName),"string"==typeof e&&-1!=["svg"].indexOf(e.toLowerCase())}static removeAllChildrenOfElement(e){if(e&&e.children.length)for(var t=0;t<e.children.length;t++)e.removeChild(e.children[t])}static resolveInterpolationIfHave(e,t){if(e){e=e.toString();let r=/{{(.|\n)*?}}/g;return r.test(e)&&(e=e.replace(r,e=>""!==(e=e.replace(/(^{{)|(}}$)/g,"").replace(/[]/g,"").trim())?t.compile(e):"")),e}return""}static resolveDefaultAttribute(e,t,r,i){if(t&&r){if(r){let n=/^\[([^)]+)\]$/g.test(t);if(n?(t=t.substr(1,t.length-2),r=i.compile(r)):r=this.resolveInterpolationIfHave(r,i),t&&r){if(!e.hasAttribute(t)||e.getAttribute(t)!==r)if("class"===t){r.trim().split(" ").forEach(t=>{e.classList.contains(t)||e.classList.add(t)})}else e.setAttribute(t,r);return}if(n)return}e.hasAttribute(t)&&e.removeAttribute(t)}}static buildStructureFromTemplate(e,t,r){var l;if(e=null!==(l=null==e?void 0:e.trim().replace(/<!--(.|\s)*?-->/g,"").trim())&&void 0!==l?l:""){let l=new XMLSerializer,a=(new DOMParser).parseFromString(`<${r}>${e}</${r}>`,"text/html").body.childNodes[0],c=e=>{let r=new i.ElementStructure(t);if(e.nodeType!==Node.TEXT_NODE){r.tagName=e.tagName.toLowerCase();let{attrs:t,directives:i}=h(e.attributes,r);if(r.attrs=t,r.attrDirectives.default=i.default,r.attrDirectives.iterate=i.iterate,o.isPureElement(r.tagName)){let t=e.attributes;if(t.length>0)do{e.removeAttributeNode(t[0])}while(e.attributes.length>0);r.rawNode=e,r.isPureElement=!0}else r.isVoid=(e.outerHTML||l.serializeToString(e)).indexOf("></")<0,""!==e.innerHTML.trim()&&(r.children=u(e.childNodes,r))}else r.isVoid=!0,r.hasInterpolationInText=/{{(.|\n)*?}}/g.test(e.textContent),r.content=e.textContent;return r},u=(e,t)=>{let r=[];if(e.length>0)for(let i=0;i<e.length;i++){let n=c(e[i]);n.parent=t,r.push(n)}return r},h=(e,t)=>{let r,i=[],o={default:[],iterate:{directive:null,props:{in:[],out:[]}}};if(e.length>0)for(let r=0;r<e.length;r++){let s=new n.AttributeStructure(e[r].name,e[r].value,t);i.push(s)}let l=[];const a=(e,t,r)=>{var i;if(t.isNotDirective){if((null!==(i=e.directiveType.prototype["_"+r])&&void 0!==i?i:[]).some(e=>("outputs"===r?`(${e})`:e)===t.name))return l.indexOf(t)<0&&l.push(t),!0}return!1};return i.forEach(e=>{e.isDefaultDirective?o.default.push({directive:e,props:{in:i.filter(t=>a(e,t,"inputs")),out:i.filter(t=>a(e,t,"outputs"))}}):e.isIterationDirective&&!o.iterate.directive&&(o.iterate.directive=e,o.iterate.props={in:i.filter(t=>a(e,t,"inputs")),out:i.filter(t=>a(e,t,"outputs"))})}),o.default=o.default.sort((e,t)=>s.DirectiveHelper.isNativeSelector(e.directive.name)?-1:s.DirectiveHelper.isNativeSelector(t.directive.name)?1:0),r=i.filter(e=>!!(e.isNotDirective&&l.indexOf(e)<0)&&(e.hasInterpolationInText=/{{(.|\n)*?}}/g.test(e.value),!0)),{attrs:r,directives:o}},d=c(a);return a.remove(),d}return new i.ElementStructure(t)}}t.RenderHelper=o},function(e,t,r){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r;!function(r){!function(i){var n="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),s=o(r);function o(e,t){return function(r,i){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:i}),t&&t(r,i)}}void 0===n.Reflect?n.Reflect=r:s=o(n.Reflect,s),function(t){var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,n=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",s=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,l={__proto__:[]}instanceof Array,a=!o&&!l,c={create:o?function(){return T(Object.create(null))}:l?function(){return T({__proto__:null})}:function(){return T({})},has:a?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:a?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),h="object"==typeof e&&{production:!0,baseUrl:"https://your-prod-url.com.br",default:{production:!0,baseUrl:"https://your-prod-url.com.br"}}&&"true"==={production:!0,baseUrl:"https://your-prod-url.com.br",default:{production:!0,baseUrl:"https://your-prod-url.com.br"}}.REFLECT_METADATA_USE_MAP_POLYFILL,d=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[s]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var i=this._keys.length,n=r+1;n<i;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,i)},t.prototype.values=function(){return new r(this._keys,this._values,n)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[s]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function n(e,t){return t}function o(e,t){return[e,t]}}():Map,f=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[s]=function(){return this.keys()},e}():Set,p=new(h||"function"!=typeof WeakMap?function(){var e=c.create(),t=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=n(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=n(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return n(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=n(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var t;do{t="@@WeakMap@@"+o()}while(c.has(e,t));return e[t]=!0,t}function n(e,i){if(!r.call(e,t)){if(!i)return;Object.defineProperty(e,t,{value:c.create()})}return e[t]}function s(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function o(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",i=0;i<16;++i){var n=t[i];4!==i&&6!==i&&8!==i||(r+="-"),n<16&&(r+="0"),r+=n.toString(16).toLowerCase()}return r}}():WeakMap);function v(e,t,r){var i=p.get(e);if(E(i)){if(!r)return;i=new d,p.set(e,i)}var n=i.get(t);if(E(n)){if(!r)return;n=new d,i.set(t,n)}return n}function m(e,t,r){var i=v(t,r,!1);return!E(i)&&!!i.has(e)}function g(e,t,r){var i=v(t,r,!1);if(!E(i))return i.get(e)}function y(e,t,r,i){v(r,i,!0).set(e,t)}function b(e,t){var r=[],i=v(e,t,!1);if(E(i))return r;for(var n=function(e){var t=w(e,s);if(!D(t))throw new TypeError;var r=t.call(e);if(!I(r))throw new TypeError;return r}(i.keys()),o=0;;){var l=C(n);if(!l)return r.length=o,r;var a=l.value;try{r[o]=a}catch(e){try{A(n)}finally{throw e}}o++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function E(e){return void 0===e}function _(e){return null===e}function I(e){return"object"==typeof e?null!==e:"function"==typeof e}function P(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=w(e,n);if(void 0!==i){var s=i.call(e,r);if(I(s))throw new TypeError;return s}return function(e,t){if("string"===t){var r=e.toString;if(D(r))if(!I(n=r.call(e)))return n;if(D(i=e.valueOf))if(!I(n=i.call(e)))return n}else{var i;if(D(i=e.valueOf))if(!I(n=i.call(e)))return n;var n,s=e.toString;if(D(s))if(!I(n=s.call(e)))return n}throw new TypeError}(e,"default"===r?"number":r)}function O(e){var t=P(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function N(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function D(e){return"function"==typeof e}function S(e){return"function"==typeof e}function w(e,t){var r=e[t];if(null!=r){if(!D(r))throw new TypeError;return r}}function C(e){var t=e.next();return!t.done&&t}function A(e){var t=e.return;t&&t.call(e)}function j(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return t;var n=i.constructor;return"function"!=typeof n||n===e?t:n}function T(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,r,i){if(E(r)){if(!N(e))throw new TypeError;if(!S(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var i=(0,e[r])(t);if(!E(i)&&!_(i)){if(!S(i))throw new TypeError;t=i}}return t}(e,t)}if(!N(e))throw new TypeError;if(!I(t))throw new TypeError;if(!I(i)&&!E(i)&&!_(i))throw new TypeError;return _(i)&&(i=void 0),function(e,t,r,i){for(var n=e.length-1;n>=0;--n){var s=(0,e[n])(t,r,i);if(!E(s)&&!_(s)){if(!I(s))throw new TypeError;i=s}}return i}(e,t,r=O(r),i)})),t("metadata",(function(e,t){return function(r,i){if(!I(r))throw new TypeError;if(!E(i)&&!function(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;y(e,t,r,i)}})),t("defineMetadata",(function(e,t,r,i){if(!I(r))throw new TypeError;return E(i)||(i=O(i)),y(e,t,r,i)})),t("hasMetadata",(function(e,t,r){if(!I(t))throw new TypeError;return E(r)||(r=O(r)),function e(t,r,i){if(m(t,r,i))return!0;var n=j(r);return!_(n)&&e(t,n,i)}(e,t,r)})),t("hasOwnMetadata",(function(e,t,r){if(!I(t))throw new TypeError;return E(r)||(r=O(r)),m(e,t,r)})),t("getMetadata",(function(e,t,r){if(!I(t))throw new TypeError;return E(r)||(r=O(r)),function e(t,r,i){if(m(t,r,i))return g(t,r,i);var n=j(r);return _(n)?void 0:e(t,n,i)}(e,t,r)})),t("getOwnMetadata",(function(e,t,r){if(!I(t))throw new TypeError;return E(r)||(r=O(r)),g(e,t,r)})),t("getMetadataKeys",(function(e,t){if(!I(e))throw new TypeError;return E(t)||(t=O(t)),function e(t,r){var i=b(t,r),n=j(t);if(null===n)return i;var s=e(n,r);if(s.length<=0)return i;if(i.length<=0)return s;for(var o=new f,l=[],a=0,c=i;a<c.length;a++){var u=c[a];o.has(u)||(o.add(u),l.push(u))}for(var h=0,d=s;h<d.length;h++){u=d[h];o.has(u)||(o.add(u),l.push(u))}return l}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!I(e))throw new TypeError;return E(t)||(t=O(t)),b(e,t)})),t("deleteMetadata",(function(e,t,r){if(!I(t))throw new TypeError;E(r)||(r=O(r));var i=v(t,r,!1);if(E(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var n=p.get(t);return n.delete(r),n.size>0||p.delete(t),!0}))}(s)}()}(r||(r={}))}).call(this,r(18),r(46))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFormFieldDirective=void 0;const i=r(4),n=r(14),s=r(47);class o extends i.Directive{constructor(){super()}get formField(){let e="form-field"===this.selector||"form-field-name"===this.selector?this:this.others.find(e=>"form-field"===e.selector||"form-field-name"===e.selector),t=null==e?void 0:e.value;return t?t instanceof n.FormField?t:this.form&&this.form.get(t):null}checkForm(){if(!(this.form&&this.form instanceof s.Form)){let e=this.selectors[0];return console.error(`The "${e}" directive not apply beacuse directive [form] not setted in form element, but you can do like it: <form [form]="yourForm" ...>`),!1}return!0}}t.BaseFormFieldDirective=o},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IterateDirectiveResponse=t.RenderAbstract=void 0;const s=r(5),o=r(1),l=r(56),a=r(2),c=r(7);let u=class{constructor(e){this.listenersCollector=e}get app(){return s.NimbleApp.instance}createElementFromStructure(e){if(e.isText){if(!e.rawNode){const t=document.createTextNode(e.content);e.rawNode=t}}else{e.rawNode||(e.rawNode=document.createElement(e.tagName));for(const t of e.children)this.createElementFromStructure(t)}}compileElementFromStructure(e){if(e.isText){if(e.compiledNode||(e.compiledNode=e.rawNode.cloneNode(!0)),e.hasInterpolationInText){const t=c.RenderHelper.resolveInterpolationIfHave(e.compiledNode.textContent,e.scope);e.compiledNode.textContent=t}}else{e.compiledNode||(e.compiledNode=e.rawNode.cloneNode(e.isPureElement)),e.attrDirectives.default.forEach(e=>{e.directive.isResolved=!1,e.props.in.forEach(e=>e.isResolved=!1),e.props.out.forEach(e=>e.isResolved=!1)});let t=[];if(e.hasIterationDirectivesToApply){e.attrDirectives.iterate.directive.isResolved=!1,e.attrDirectives.iterate.props.in.forEach(e=>e.isResolved=!1),e.attrDirectives.iterate.props.out.forEach(e=>e.isResolved=!1);if(t=e.getIterationDirective().directiveInstance.onIterate(),t.length<=0)return e.removeCompiledNode(),null;e.compiledBeginFn=t[0].beginFn,e.compiledEndFn=t[0].endFn,t=t.slice(1)}e.compiledBeginFn&&e.compiledBeginFn(),e.resolveAttrs(),e.instantiateAttrDirectives(),e.children=e.children.filter(e=>!(e instanceof l.ElementIterationStructure)||(e.removeCompiledNode(),!1));for(const t of e.children){const r=this.compileElementFromStructure(t);r&&!e.isRendered&&(e.compiledNode.appendChild(r),t.isRendered=!0)}if(e.resolveAttrDirectivesIfNeeded(),this.checkStructureNodeActions(e),e.compiledEndFn&&e.compiledEndFn(),t.length>0){const r=e.parent.children.findIndex(t=>t===e);for(let i=1;i<=t.length;i++){const n=t[i-1],s=r+i;e.parent.children.splice(s,0,this.cloneStructureDueIteration(e,n.beginFn,n.endFn))}}}return e.hasParent||(e.isRendered=!0),e.compiledNode}recompileElementFromStructure(e){performance.now();if(e.isText){if(e.compiledNode||(e.compiledNode=e.rawNode.cloneNode(!0)),e.hasInterpolationInText&&e.rawNode.textContent){const t=c.RenderHelper.resolveInterpolationIfHave(e.rawNode.textContent,e.scope);t!==e.compiledNode.textContent&&(e.compiledNode.textContent=t)}e.renderNodeIfNot()}else{e.compiledNode||(e.compiledNode=e.rawNode.cloneNode(e.isPureElement));let t=[];if(e.hasIterationDirectivesToApply){const r=e.getIterationDirective().directiveInstance;if(t=r.onIterate(),t.length<=0){e.removeCompiledNode(e=>{this.listenersCollector.unsubscribeAllFromElement(e.compiledNode)});const t=e.getIterationStructuresFromSelf();if(t){for(const e of t)e.removeCompiledNode(e=>{this.listenersCollector.unsubscribeAllFromElement(e.compiledNode)});e.parent.children=e.parent.children.filter(e=>!t.some(t=>t===e))}return}{r.onRender();let i=e.getIterationStructuresFromSelf();if(e.compiledBeginFn=t[0].beginFn,e.compiledEndFn=t[0].endFn,t=t.slice(1),i.length>t.length){const r=i.slice(t.length);i=i.slice(0,t.length);for(const e of r)this.listenersCollector.unsubscribeAllFromElement(e.compiledNode),e.removeCompiledNode(e=>{this.listenersCollector.unsubscribeAllFromElement(e.compiledNode)});e.parent.children=e.parent.children.filter(e=>r.indexOf(e)<0)}else if(i.length<t.length){const r=t.length-i.length,n=i.length>0?e.parent.children.findIndex(e=>e===i[i.length-1]):e.parent.children.findIndex(t=>t===e);for(let s=1;s<=r;s++){const r=t[i.length+s-1],o=n+s;e.parent.children.splice(o,0,this.cloneStructureDueIteration(e,r.beginFn,r.endFn))}}for(let e=0;e<i.length;e++){let r=t[e],n=i[e];n.compiledBeginFn=r.beginFn,n.compiledEndFn=r.endFn}}}e.compiledBeginFn&&e.compiledBeginFn(),e.resolveAttrs(),e.instantiateAttrDirectives(),e.renderNodeIfNot();for(let t=0;t<e.children.length;t++){let r=e.children[t];this.recompileElementFromStructure(r)}e.resolveAttrDirectivesIfNeeded(),this.checkStructureNodeActions(e),e.compiledEndFn&&e.compiledEndFn()}}checkStructureNodeActions(e){const t=e.compiledNode;e.compiledBeginFn&&this.listenersCollector.addActionsInElementsListeners(t,e.compiledBeginFn,e.compiledEndFn);let r=e.parent;for(;r;)r&&r.compiledBeginFn&&r.compiledEndFn&&this.listenersCollector.addActionsInElementsListeners(t,r.compiledBeginFn,r.compiledEndFn),r=r.parent}cloneStructureDueIteration(e,t,r){const i=new l.ElementIterationStructure(e);return i.compiledBeginFn=t,i.compiledEndFn=r,i}};u=i([o.Injectable({single:!0}),n("design:paramtypes",[a.ElementListenersCollector])],u),t.RenderAbstract=u;t.IterateDirectiveResponse=class{constructor(e=null){e&&Object.assign(this,e)}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function l(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;const n=r(34),s=r(0),o=r(5),l=r(17),a=r(48),c=r(49);class u{static get app(){return o.NimbleApp.instance}static get state(){return this._state}static get previousState(){return this._previousState}static get realCurrentPath(){let e=(this.useHash?location.hash:location.pathname+location.hash).replace(/^(\/#\/|#\/|\/#|\/|#)|(\/)$/g,"");return e=this.removeBaseHrefPath(e).replace(/^(\/)/g,""),e}static get currentPath(){if(s.isNullOrUndefined(this.nextPath)){var e=(this.useHash?location.hash:location.pathname).replace(/^(\/#\/|#\/|\/#|\/|#)|(\/)$/g,"");return(e=this.removeBaseHrefPath(e).replace(/^(\/)/g,"")).split("#")[0]}return this.nextPath}static get nextPath(){if(this._nextPath){var e=this._nextPath.replace(/^(\/#\/|#\/|\/#|\/|#)|(\/)$/g,"");return(e=this.removeBaseHrefPath(e).replace(/^(\/)/g,"")).split("#")[0]}return this._nextPath}static get routes(){return this._routes}static get abstractRoutes(){return this._routes.filter(e=>e.isAbstract)}static get singleRoutes(){return this._routes.filter(e=>!e.isAbstract)}static get current(){return this._current}static get next(){return this._next}static get previous(){return this._previous}static get onRoute(){return!s.isNullOrUndefined(this._current)}static registerRoutes(e){if(this.app.state===o.NimbleAppState.INITIALIZING){let t=e.find(e=>!s.isNullOrUndefined(e.redirect)&&!s.isNullOrUndefined(e.page));if(t)throw new Error(`Occured an error with the route with path "${t.path}". Routes cannot have "page" and "redirect" properties together. Choose one of them.`);this._routes=e.map(e=>new n.Route(e))}}static removeBaseHrefPath(e){if(this.app.hasBaseHref){e=e.startsWith("/")?e:"/"+e;let t=this.app.baseHref.replace(/^(\/)|(\/)$/g,"");e=e.replace(new RegExp(`^(/${t})`,"g"),"")}return e}static pathHasInsideBaseHref(e){return this.app.hasBaseHref&&e.startsWith(this.app.baseHref),!1}static setState(e,t){return i(this,void 0,void 0,(function*(){this._previousState=this._state,this._state=e,t=null!=t?t:new c.RouterEvent({}),yield this.notifyListeners(e,Object.assign({state:e},t))}))}static start(){this.app.state===o.NimbleAppState.INITIALIZING&&(this.onRedirect(),this.useHash?window.onhashchange=()=>{this.currentPath,this.onRedirect()}:window.onpopstate=()=>{this.currentPath,this.onRedirect()})}static addListener(e,t){let r=Array.isArray(e)?e:[e],i=r.filter(e=>Object.values(l.RouterState).map(e=>e.toString()).includes(e)),n=[];if(r.some(e=>i.indexOf(e)<0)){let e=r.filter(e=>!i.includes(e)).map(e=>`'${e}'`);console.warn(`The following states are invalids: ${e.join(", ")}.`)}for(let e of i){let r={order:this.listeners.filter(t=>t.state===e).length,state:e,callback:t,internal:this.app.state===o.NimbleAppState.INITIALIZING};n.push(r),this.listeners.push(r)}return()=>{this.listeners=this.listeners.filter(e=>!n.some(t=>e===t))}}static onStartChange(e){return this.addListener("STARTED_CHANGE",t=>i(this,void 0,void 0,(function*(){yield e(t)})))}static onEndChange(e){return this.addListener(["FINISHED_CHANGE","CHANGE_REJECTED","CHANGE_ERROR"],t=>i(this,void 0,void 0,(function*(){yield e(t)})))}static notifyListeners(e,t){return i(this,void 0,void 0,(function*(){let r=this.listeners.filter(t=>t.state===e);if(r.length){let i=!1,n=0;r.sort((e,t)=>(0===n&&(i=e===r[0],n++),0)),r=this.getEventType()===a.RouterStateType.START?r.sort((e,t)=>e.internal&&!t.internal?-1:!e.internal&&t.internal?1:e.order>t.order?-1:e.order<t.order?1:0):r.sort((t,r)=>t.internal&&!r.internal||r.internal&&e===l.RouterState.FINISHED_CHANGE?i?-1:1:!t.internal&&r.internal?i?1:-1:t.order>r.order?i?-1:1:t.order<r.order?i?1:-1:0);for(let e of r)yield e.callback(t)}}))}static onRedirect(){if(this.currentPath!==this.lastLocationPath){null==this.nextPath&&(this.lastLocationPath=this.currentPath);let e=!1;if(this.checkPageCanBeCurrent()){let{changed:t,isSamePath:r}=this.defineNextPage();if(r)return this._next=null,this.updateURLPath(this.current.completePath(),{pathRedirect:!0}),void(this.lastLocationPath=this.currentPath);if(e=t,t&&null!=this.next.redirect){let e=`${this.app.baseHref}${this.next.redirect}`.replace(/\/\//g,"/");return this._next=null,this.updateURLPath(e,{pathRedirect:!0}),this._nextPath=e,void this.onRedirect()}if(!t&&this.current&&this.current.completePath()!==this.realCurrentPath){let e=this.current.completePath();return this._next=null,this.updateURLPath(e,{pathRedirect:!0}),void(this.lastLocationPath=e)}}this.onRouterChange(e)}}static checkPageCanBeCurrent(){let e=this.routes.some(e=>e.checkIfMatchCurrentLocation());return e||(e=this.routes.some(e=>"**"===e.path)),e}static defineNextPage(){var e;let t=null;for(let e=0;e<this.routes.length;e++){if(t=this.routes[e].getMatchedPageWithLocation(),t)break}if(!t)for(let e=0;e<this.routes.length;e++){let r=this.routes[e];if(r.isNotFoundPath){t=r;break}}let r=!1,i=!1;return s.isNullOrUndefined(t)||(t!==this.current?(r=!0,this._next=t,i="/"+(null===(e=this.current)||void 0===e?void 0:e.completePath())===(t.redirect?t.redirect:"/"+t.completePath())):i=!0),{changed:r,isSamePath:i}}static onRouterChange(e){e&&this.next?this.next.pathWithParams||this.next.isNotFoundPath||this.next.completePath()===this.currentPath?this.loadCurrentRoutePage():(this.redirect(this.next.completePath()),this._next=null):this.next||(console.error(`No pages matched with this path: "/${this.currentPath}". If it path is abstract (has children), define a new route path with redirect in "routes.ts", example: { path: '', redirect: '/some-path' }.`),this._next=null,this.stopListening=!0)}static loadCurrentRoutePage(){return i(this,void 0,void 0,(function*(){yield this.setState(l.RouterState.STARTED_CHANGE,new c.RouterEvent({route:this.next})),this.next.hasParent?this.loadRoutesPageFromAllParents():this.loadRoutePage(this.next).then(()=>i(this,void 0,void 0,(function*(){yield this.defineCurrentAfterFinished();const e=new c.RouterEvent({route:this.current});yield this.setState(l.RouterState.FINISHED_LOADING,e),yield this.setState(l.RouterState.RENDERING,e),yield this.setState(l.RouterState.FINISHED_CHANGE,e)})),()=>i(this,void 0,void 0,(function*(){yield this.abortChangeRoute(),yield this.setState(l.RouterState.CHANGE_ERROR,new c.RouterEvent({route:this.current}))})))}))}static loadRoutesPageFromAllParents(){let e=this.current?u.getCommonParentOfTwoRoutes(this.next,this.current):null,t=this.next.getAllParents().map(e=>({route:e,makeNewInstance:!0}));if(e)for(let r of t.reverse())if(r.makeNewInstance=!1,r.route===e){t.reverse();break}let r=()=>{if(t.length>0){let e=t.pop();this.loadRoutePage(e.route,e.makeNewInstance).then(()=>{r()},e=>i(this,void 0,void 0,(function*(){yield this.abortChangeRoute(),yield this.setState(l.RouterState.ERROR_LOADING,e)})))}else this.loadRoutePage(this.next).then(()=>i(this,void 0,void 0,(function*(){yield this.defineCurrentAfterFinished();const e=new c.RouterEvent({route:this.current});yield this.setState(l.RouterState.FINISHED_LOADING,e),yield this.setState(l.RouterState.RENDERING,e),yield this.setState(l.RouterState.FINISHED_CHANGE,e)})),()=>i(this,void 0,void 0,(function*(){yield this.abortChangeRoute(),yield this.setState(l.RouterState.CHANGE_ERROR,new c.RouterEvent({route:this.current}))})))};r()}static defineCurrentAfterFinished(){return i(this,void 0,void 0,(function*(){this._current&&(this._previous=this._current),this.next&&(this._current=this.next,this._next=null),s.isNullOrUndefined(this._nextPath)||(yield this.updateURLPath(this._nextPath),this._nextPath=null),this.lastLocationPath=this.currentPath,yield this.notifyOldRoutesElementExit()}))}static abortChangeRoute(){return i(this,void 0,void 0,(function*(){if(s.isNullOrUndefined(this.nextPath)||this.nextRejectedAndRedirectAfter||!this.current)s.isNullOrUndefined(this.nextPath)&&!this.nextRejectedAndRedirectAfter&&(console.error(`Page of path "/${this.currentPath}" was rejected. In this case, there is no previous route for us can to return to, we suggest that you do some "Router.redirect('/you-secured-path')" in your ActivatedRoute class for these cases.`),this._next=null,this.stopListening=!0);else{let e=this.nextPath;this._next=null,this._nextPath=null,yield this.updateURLPath(e),this.lastLocationPath=this.currentPath}}))}static updateURLPath(e,t={}){return i(this,void 0,void 0,(function*(){let r=()=>e.includes("#")&&this.realCurrentPath.includes("#"),i=()=>e.includes("#")&&e.split("#")[0].replace(/^(\/#\/|#\/|\/#|\/|#)|(\/)$/g,"")===this.realCurrentPath.replace(/^(\/)/g,""),n=()=>this.realCurrentPath.includes("#")&&this.realCurrentPath.split("#")[0].replace(/\/$/g,"")===e.replace(/^(\/)/g,""),s=(!this.useHash&&e.includes("#")?e.split("#")[0]:e).replace(/^(\/)/g,""),o=(!this.useHash&&this.realCurrentPath.includes("#")?this.realCurrentPath.split("#")[0]:e).replace(/^(\/)/g,"");if(o.includes("#")&&(o=o.split("#")[0]),(e.includes("#")||this.realCurrentPath.includes("#"))&&s===o){if(r()||i())return void(location.hash=e.split("#")[1]);if(n())return void(location.hash="")}e=(e.startsWith("/")?"":"/")+e,this.useHash?location.hash=e:(null==t?void 0:t.pathRedirect)?history.replaceState(null,null,e):history.pushState(null,null,e)}))}static loadRoutePage(e,t=!0){return new Promise((r,n)=>i(this,void 0,void 0,(function*(){yield this.setState(l.RouterState.STARTED_LOADING,new c.RouterEvent({route:e})),yield e.loadPage(e=>i(this,void 0,void 0,(function*(){this.routeCanActivate(e)?(e.pageInstance.onNeedRerender=this.whenRerenderIsRequested.bind(this),e.pageInstance.pageParent=e.parent?e.parent.pageInstance:null,yield this.setState(l.RouterState.FINISHED_LOADING,new c.RouterEvent({route:e})),yield r(e)):(yield this.setState(l.RouterState.CHANGE_REJECTED,new c.RouterEvent({route:e})),yield n(null))})),e=>i(this,void 0,void 0,(function*(){console.error(e),yield this.setState(l.RouterState.ERROR_LOADING,e),yield n(e)})),()=>i(this,void 0,void 0,(function*(){})),t)})))}static routeCanActivate(e){let t=(this.realCurrentPath.startsWith("/")?"":"/")+this.realCurrentPath,r=this.nextPath?(this.nextPath.startsWith("/")?"":"/")+this.nextPath:t;if(e.guard&&e.guard.length>0)for(let i of e.guard){let n=o.NimbleApp.inject(i);if(n&&!n.doActivate(t,r,e))return!1}return!0}static redirect(e){var t;return i(this,void 0,void 0,(function*(){this.pathHasInsideBaseHref(e);if(this.nextRejectedAndRedirectAfter=!s.isNullOrUndefined(this.nextPath)||!this.current,this.nextRejectedAndRedirectAfter&&s.isNullOrUndefined(this.current)&&(this._next=null,this.updateURLPath(e,{pathRedirect:!0}),this._nextPath=e),this.pathIsHashLink(e)&&this.pathIsHashLink(e,{checkIsCurrent:!0}))this.updateURLPath(e);else{let r=this.removeBaseHrefPath(e.includes("#")?e.split("#")[0]:e).replace(/^\//g,"");if(this.currentPathIsHashLink()&&this.currentPath!==r)this._nextPath=e;else{let i=(null===(t=this.current)||void 0===t?void 0:t.completePath())===r;if(this.updateURLPath(e,{pathRedirect:i}),i)return}}this.onRedirect()}))}static pathIsHashLink(e,t={}){if(e=e.replace(/^\//g,""),t.checkIsCurrent){if(e.includes("#")&&e.startsWith(this.currentPath)){return e.replace(this.currentPath,"").startsWith("/#")}return!1}return e.includes("#")}static currentPathIsHashLink(){return this.realCurrentPath.includes("#")}static notifyOldRoutesElementExit(){return i(this,void 0,void 0,(function*(){let e=this.current.getHighestParentOrHimself(),t=this.previous?u.getCommonParentOfTwoRoutes(this.current,this.previous):e;if(this.previous){let e=[];for(let r of[this.previous,...this.previous.getAllParents()]){if(r===t)break;e.push(r)}for(let t of e.reverse())yield t.pageInstance.onExit()}}))}static whenRerenderIsRequested(e){return i(this,void 0,void 0,(function*(){if(this.state!==l.RouterState.RENDERING){let e=this.state===l.RouterState.STARTED_CHANGE,t=e&&this.previous?this.previous:this.current;yield this.setState(l.RouterState.STARTED_RERENDER,new c.RouterEvent({route:t})),yield this.setState(l.RouterState.FINISHED_RERENDER,new c.RouterEvent({route:this.current})),e&&(this._state=l.RouterState.STARTED_CHANGE)}else console.warn("The render() was requested and did not work because the page was being constructing.")}))}static getCommonParentOfTwoRoutes(e,t){if(e&&t){let r=[e,...e.getAllParents()],i=[t,...t.getAllParents()];return r.find(e=>i.some(t=>e===t))}return null}static getEventType(e){switch(e=e||this.state){case l.RouterState.STARTED_CHANGE:case l.RouterState.STARTED_LOADING:case l.RouterState.STARTED_RERENDER:return a.RouterStateType.START;case l.RouterState.FINISHED_CHANGE:case l.RouterState.FINISHED_LOADING:case l.RouterState.ERROR_LOADING:case l.RouterState.FINISHED_RERENDER:case l.RouterState.CHANGE_ERROR:return a.RouterStateType.END;case l.RouterState.RENDERING:default:return a.RouterStateType.NONE}}}t.Router=u,u._routes=[],u.stopListening=!1,u.listeners=[],u.useHash=!1,u._nextPath=null,u.nextRejectedAndRedirectAfter=!1},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.Helper=void 0;const n=r(1),s=r(0);let o=class{uid(){let e=e=>{let t=e.toString(16);for(;t.length<4;)t="0"+t;return t},t=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);if("undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues){let t=new Uint16Array(8);return window.crypto.getRandomValues(t),e(t[0])+e(t[1])+"-"+e(t[2])+"-"+e(t[3])+"-"+e(t[4])+"-"+e(t[5])+e(t[6])+e(t[7])}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}splitStringJSONtoKeyValue(e){let t=[],r=e.replace(/\"/g,"'").matchAll(/(?:\"|\')([^("|'|)]*)(?:\"|\')(?=:)(?:\:\s*)(?:\")?(true|false|[0-9a-zA-Z\(\)\@\:\/\!\+\-\.\$\&\%\=\ \\\']*|[-0-9]+[\.]*[\d]*(?=,))(?:\")?/gm),i=r.next();for(;i&&s.isArray(i.value)&&i.value.length>2;){let e=i.value[1].trim(),n=i.value[2].trim().replace(/\,$/g,"").trim();t.push({key:e,value:n}),i=r.next()}return t}insertInText(e,t,r){if("string"==typeof e&&"string"==typeof t&&""!==t&&r>=0){let i=e.substr(0,r),n=e.substr(r);e=i+t+n}return e}insertInTextWithInterval(e,t,r,i){if("string"==typeof e&&"string"==typeof t&&""!==t&&r>=0&&i>=0&&r<=i){let n=e.substr(0,r),s=e.substr(i);e=n+t+s}return e}cloneObject(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)}padLeft(e,t=2,r=0){if(!s.isNullOrUndefined(e))for(;e.length<t;)e=r+e;return e}padRight(e,t=2,r=0){if(!s.isNullOrUndefined(e))for(;e.length<t;)e+=r;return e}};o=i([n.Injectable({single:!0})],o),t.Helper=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeStructure=t.ElementStructureAbstract=void 0;const i=r(0),n=r(7),s=r(9),o=r(21),l=r(23),a=r(5);t.ElementStructureAbstract=class{constructor(e){this.parent=null,this.tagName="",this.content="",this.children=[],this.directivesInstance=[],this.rawNode=null,this.compiledNode=null,this.compiledBeginFn=null,this.compiledEndFn=null,this.attrs=[],this.attrDirectives={default:[],iterate:{directive:null,props:{in:[],out:[]}}},this.isVoid=!1,this.isPureElement=!1,this.isRendered=!1,this.hasInterpolationInText=!1,this.scope=e}get hasParent(){return!i.isNullOrUndefined(this.parent)}get hasChildren(){return this.children.length>0}get hasAttritubes(){return this.attrs.length>0}get isText(){return!this.tagName}get hasNormalDirectivesToApply(){return this.attrDirectives.default.length>0}get hasIterationDirectivesToApply(){return!!this.attrDirectives.iterate.directive}get nodeIsRenderedInDOM(){return this.compiledNode&&!i.isNullOrUndefined(this.compiledNode.parentNode)}removeCompiledNode(e){if(this.hasChildren)for(const t of this.children)t.removeCompiledNode(e);this.nodeIsRenderedInDOM&&(this.compiledNode.parentNode.removeChild(this.compiledNode),this.isRendered=!1),this.destroyAllDirectives(),e&&e(this)}destroyAllDirectives(){for(const e of this.attrDirectives.default)e.directive.destroyDirective();this.attrDirectives.iterate.directive&&this.attrDirectives.iterate.directive.destroyDirective()}getIterationDirective(){const e=this.attrDirectives.iterate.directive,t=this.attrDirectives.iterate.props;if(e){let r=this.directivesInstance.find(t=>t.selector===e.name);r?r.element=this.compiledNode:(r=a.NimbleApp.inject(e.directiveType),r.scope=this.scope,r.element=this.compiledNode,r.selectorActive=e.name,r.insertInput(r.selector,()=>e.value),t.in.forEach(e=>{r.insertInput(e.name,()=>c.getCompiledValue(e.name,e.value,this.scope))}),t.out.forEach(e=>{r.insertOutput(e.name.replace(/\(|\)/g,""),()=>e.value)}),e.directiveInstance=r,this.directivesInstance.push(r)),r.all=()=>this.directivesInstance}return e}resolveAttrs(){for(const e of this.attrs.filter(e=>e.hasInterpolationInText||!e.isResolved))n.RenderHelper.resolveDefaultAttribute(this.compiledNode,e.name,e.value,this.scope),e.isResolved=!0}resolveAttrDirectivesIfNeeded(){for(const e of this.attrDirectives.default)e.directive.resolveDirectiveIfNeeded()}getIterationStructuresFromSelf(){return this.parent.children.filter(e=>e.from===this)}instantiateAttrDirectives(){const e=this.attrDirectives.default.filter(e=>!e.directive.isResolved);for(const t of e){const e=t.directive,r=t.props;let i=this.directivesInstance.find(t=>t.selector===e.name.replace(/\[|\]/g,""));if(!i){i=a.NimbleApp.inject(e.directiveType),i.element=this.compiledNode,i.scope=this.scope,i.selectorActive=e.name;const t=r.in.map(t=>({name:t.name,value:()=>c.getCompiledValue(e.name,e.value,this.scope)})),n=r.out.map(e=>({name:e.name.replace(/\(|\)/g,""),value:()=>e.value}));i.selectorIsInput?t.push({name:i.selector,value:()=>c.getCompiledValue(e.name,e.value,this.scope)}):n.push({name:i.selector,value:()=>e.value}),t.forEach(e=>i.insertInput(e.name,e.value)),n.forEach(e=>i.insertOutput(e.name,e.value)),e.directiveInstance&&(e.directiveInstance.all=()=>this.directivesInstance),e.directiveInstance=i,this.directivesInstance.push(i)}}}renderNodeIfNot(){if(this.checkRenderedCorrectly(),!this.isRendered&&this.parent&&this.parent.compiledNode){const e=this.parent.children.findIndex(e=>e===this),t=()=>{for(let t=e+1;t<this.parent.children.length;t++){const e=this.parent.children[t];if(e.compiledNode&&e.compiledNode.parentNode===this.parent.compiledNode&&e.nodeIsRenderedInDOM)return e.compiledNode}return null},r=(()=>{for(let t=e-1;t>=0;t--){const e=this.parent.children[t];if(e.compiledNode&&e.compiledNode.parentNode===this.parent.compiledNode&&e.nodeIsRenderedInDOM)return e.compiledNode.nextSibling}return null})();if(r)this.parent.compiledNode.insertBefore(this.compiledNode,r),this.isRendered=!0;else{const e=t();e?(this.parent.compiledNode.insertBefore(this.compiledNode,e),this.isRendered=!0):(this.parent.compiledNode.appendChild(this.compiledNode),this.isRendered=!0)}}}checkRenderedCorrectly(){this.nodeIsRenderedInDOM&&this.parent&&this.compiledNode.parentNode!==this.parent.compiledNode&&this.compiledNode.parentNode.removeChild(this.compiledNode)}};class c{constructor(e,t,r,i=null,n=!1){this.isResolved=!1,this.hasInterpolationInText=!1,this.structure=null,this.name="",this.value="",this.directiveType=null,this.directiveInstance=null,this.name=e,this.value=t,this.structure=r,this.directiveType=null!=i?i:n?null:this.getDirective()}get allDirectives(){return a.NimbleApp.instance.directives}get isIterationDirective(){return null!=this.directiveType&&"IterationDirective"===this.directiveType.prototype.type}get isDefaultDirective(){return null!=this.directiveType&&"IterationDirective"!==this.directiveType.prototype.type}get isNotDirective(){return!this.directiveType}resolveDirectiveIfNeeded(){this.isResolved?(this.checkDirectiveBeforeResolve(),this.directiveInstance.onChange()):(this.isResolved=!0,this.checkDirectiveBeforeResolve(),this.directiveInstance.onRender())}destroyDirective(){this.directiveInstance&&this.directiveInstance.onDestroy(),this.isResolved=!1}checkDirectiveBeforeResolve(){if(this.directiveInstance instanceof s.BaseFormFieldDirective){let e=this.structure.parent,t=null;for(;!t&&e;)t=e.directivesInstance.find(e=>e instanceof o.FormDirective),e=e.parent;this.directiveInstance.form=t&&t.form}}getDirective(){let e=null;const t=this.name.toLowerCase();for(let r of this.allDirectives){if(r.prototype.selectors.find(e=>!!e&&(e=e.toLowerCase(),/^\[([^)]+)\]$/g.test(t)&&/^(?!\(\/).*(?!\))$/g.test(e)?t===`[${e.replace(/\[|\]/g,"")}]`:t===e))){e=r;break}}return/^\(([^)]+)\)$/g.test(t)||/^\[([^)]+)\]$/g.test(t)||!l.DirectiveHelper.checkSelectorMustHavePureValue(t)?e:null}static getCompiledValue(e,t,r){return/^\(([^)]+)\)$/g.test(e)||(/^\[([^)]+)\]$/g.test(e)?l.DirectiveHelper.checkSelectorMustHavePureValue(e)||(t=r.compile(t)):t=n.RenderHelper.resolveInterpolationIfHave(t,r)),t}}t.AttributeStructure=c},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function l(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FormField=void 0;const n=r(5),s=r(2),o=r(15),l=r(0);t.FormField=class{constructor(e){this._elements=[],this._valueChanges=new o.Observer,this._errors=null,this._validators=[],this._isEnabled=!0,this._blurred=!1,this._touched=!1,Object.assign(this,e)}get elements(){return this._elements}get value(){return this._value}get valueChanges(){return this._valueChanges}get errors(){return this._errors}get validators(){return this._validators}get isEnabled(){return this._isEnabled}get isDisabled(){return!this._isEnabled}get blurred(){return this._blurred}get touched(){return this._touched}get isValid(){return!this.errors||0===Object.keys(this.errors).filter(e=>!(!1===this.errors[e])).length}get listenerCollector(){return n.NimbleApp.inject(s.ElementListenersCollector)}setValue(e,t={}){var r,i;let n=!1;if(this._value=e,!(t&&t.noUpdateElement||1!==this.elements.length)){let t=this.elements[0];"checkbox"!==t.type&&"radio"!==t.type&&(t.value=e,t.value===e&&t.dispatchEvent(new Event("input",{bubbles:!1,cancelable:!0})))}if(t&&t.noNotify||(this.valueChanges.notify(e),n=!0),!t||!t.noValidate){if(this.parent)for(let e in this.parent.fields)(null===(r=this.parent.fields[e])||void 0===r?void 0:r.touched)&&(null===(i=this.parent.fields[e])||void 0===i||i.validate());else this.validate();n=!0}!n||this.parent&&this.parent.isReseting||this.renderIfNeed()}validate(){let e={};for(let t of this.validators)if(t){let r=t(this);l.isObject(r)&&Object.keys(r).some(e=>r[e])&&Object.keys(r).forEach(t=>{r[t]&&(e[t]=r[t])})}return this._errors="{}"===JSON.stringify(e)?null:e,this.isValid}hasError(e){return!(!this.errors||!this.errors[e])}hasErrors(){return!!(this.errors&&Object.keys(this.errors).length>0)}setElement(e){e&&(this._elements.indexOf(e)<0&&this._elements.push(e),this.setFieldElementListeners(e))}setErrors(e){this._errors=e}setValidators(e){if(e){this._validators=[];for(let t of e)this._validators.some(e=>e===t)||this._validators.push(t)}}setTouched(){this._touched=!0}setUntouched(){this._touched=!1}setBlurred(){this._blurred=!0}setUnblurred(){this._blurred=!1}disable(){this._isEnabled=!1}enable(){this._isEnabled=!0}removeValidators(e){e&&(this._validators=this._validators.filter(t=>!e.some(e=>t===e)))}reset(e){this.setUntouched(),this.setUnblurred(),this.setValue(null,e),this._errors=null}setFieldElementListeners(e){this.listenerCollector.subscribe(e,"focus",()=>{this._touched=!0,this.blurred&&this.validate(),this.renderIfNeed()},!0),this.listenerCollector.subscribe(e,"blur",()=>{this._blurred=!0,this.validate(),this.renderIfNeed()},!0)}renderIfNeed(){return i(this,void 0,void 0,(function*(){this.parent&&this.parent.renderOnInteract&&this.parent.scope&&!this.parent.isSubmitting&&this.parent.scope.onNeedRerender&&(yield this.parent.scope.onNeedRerender(this.parent.scope))}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObserverListener=t.Observer=void 0;t.Observer=class{constructor(){this.listeners=[]}notify(e){for(let t of this.listeners)t.success&&t.success(e)}error(e){for(let t of this.listeners)t.error&&t.error(e)}subscribe(e,t){let r=new i(e,t,this);return this.listeners.push(r),r}unsubscribe(e){this.listeners=this.listeners.filter(t=>t!==e)}};class i{constructor(e,t,r){this.success=e,this.error=t,this.observer=r}unsubscribe(){this.observer&&this.observer.unsubscribe(this)}}t.ObserverListener=i},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function l(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;t.Page=class{constructor(){this.isInitialized=!1,this.isAfterInitialized=!1,this.isDestroyed=!1}onInit(){}onAfterInit(){}onDestroy(){}onEnter(){}onExit(){}render(e){return i(this,void 0,void 0,(function*(){return e&&e(),this.onNeedRerender?yield this.onNeedRerender(this):new Promise(e=>e())}))}compile(e){try{return new Function(`with(this) { return ${e} }`).call(this)}catch(e){return console.error(e.message),null}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterState=void 0,function(e){e.NONE="NONE",e.STARTED_CHANGE="STARTED_CHANGE",e.FINISHED_CHANGE="FINISHED_CHANGE",e.CHANGE_ERROR="CHANGE_ERROR",e.STARTED_LOADING="STARTED_LOADING",e.FINISHED_LOADING="FINISHED_LOADING",e.ERROR_LOADING="ERROR_LOADING",e.STARTED_RERENDER="STARTED_RERENDER",e.FINISHED_RERENDER="FINISHED_RERENDER",e.CHANGE_REJECTED="CHANGE_REJECTED",e.RENDERING="RENDERING"}(t.RouterState||(t.RouterState={}))},function(e,t){var r,i,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var a,c=[],u=!1,h=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):h=-1,c.length&&f())}function f(){if(!u){var e=l(d);u=!0;for(var t=c.length;t;){for(a=c,c=[];++h<t;)a&&a[h].run();h=-1,t=c.length}a=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RouteParams=void 0;const s=r(1);let o=class{constructor(){this.data={},this.params={}}};o=i([s.Injectable(),n("design:paramtypes",[])],o),t.RouteParams=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElementStructure=void 0;const i=r(13);class n extends i.ElementStructureAbstract{constructor(e){super(e)}}t.ElementStructure=n},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FormDirective=void 0;const s=r(4),o=r(3),l=r(2),a=r(0);let c=class extends s.Directive{constructor(e){super(),this.listenersCollector=e,this.subscribes=[]}get form(){return this.value}onRender(){this.isValid()&&(this.resolve(),this.onSubmitOutput(),this.resolveRenderOnInteractSelector())}onChange(){}onDestroy(){for(let e of this.subscribes)e.observation.unsubscribe()}isValid(){return this.element instanceof HTMLFormElement||(console.error(`The directive "${this.selector}" only applies in form elements.`),!1)}resolve(){this.form.scope=this.scope,this.form.formElement=this.element,this.checkSubmitDirective()}onSubmitOutput(){this.outputs.submit&&!this.subscribes.find(e=>"fromDirective"===e.id)&&this.subscribes.push({id:"fromDirective",observation:this.form.onSubmit.subscribe(e=>{this.outputs.submit(e),e.preventDefault()})})}checkSubmitDirective(){!this.outputs.submit&&this.listenersCollector.getSubscribedsByTargetAndEventName(this.element,"submit").length<=1&&(this.subscribes.find(e=>"internal"===e.id)||this.subscribes.push({id:"internal",observation:this.form.onSubmit.subscribe(e=>{e.preventDefault()})}))}resolveRenderOnInteractSelector(){let e=this.inputs.renderOnInteract;this.form.renderOnInteract="boolean"==typeof e?e:!(!a.isNullOrUndefined(e)&&""!==e)}};c=i([o.PrepareDirective({selector:"[form]",inputs:["render-on-interact"],outputs:["submit"]}),n("design:paramtypes",[l.ElementListenersCollector])],c),t.FormDirective=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveConfig=void 0;t.DirectiveConfig=class{constructor(e){this.selector="",this.inputs=[],this.outputs=[],Object.assign(this,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveHelper=void 0;const i=r(24);t.DirectiveHelper=class{static getAllPureSelectors(){return[...i.NativesAttrsDirective.selectorsMustHavePureValue].map(e=>e.replace(/\[|\(|\]|\)/g,""))}static checkSelectorMustHavePureValue(e){return e=e.replace(/\[|\(|\]|\)/g,""),this.getAllPureSelectors().indexOf(e)>=0}static isNativeSelector(e){return e=e.replace(/\[|\(|\]|\)/g,""),this.getNativesSelector().some(t=>t.replace(/\[|\(|\]|\)/g,"")===e)}static getNativesSelector(){return["href",...i.NATIVE_SELECTORS]}}},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NativesAttrsDirective=t.NATIVE_SELECTORS=void 0;const s=r(4),o=r(3),l=r(12),a=r(0);t.NATIVE_SELECTORS=["[disabled]","[class]","[style]","[title]","[alt]","[type]","[target]","[src]","[width]","[height]","[maxlength]","[minlength]"];let c=class extends s.Directive{constructor(e){super(),this.helper=e,this.previousValue={class:{add:[],remove:[]},style:{add:[],remove:[]}}}static get selectorsMustHavePureValue(){return["class","style"]}onRender(){"class"===this.selector?this.resolveClass():"style"===this.selector?this.resolveStyle():"disabled"===this.selector?this.resolveRequired():this.element.hasAttribute(this.selector)?this.element.attributes[this.selector].value!==this.value&&(this.element.attributes[this.selector].value=this.value):this.element.setAttribute(this.selector,this.value)}onChange(){this.onRender()}onDestroy(){}resolveClass(){var e,t,r;if(this.value){let i=this.value.trim(),n=[],s=[];if(i.startsWith("{")&&i.endsWith("}")){this.helper.splitStringJSONtoKeyValue(i).forEach(e=>{try{this.scope.compile(e.value)?n.push(e.key):s.push(e.key)}catch(e){console.error(e.message)}})}else i.startsWith("[")&&i.endsWith("]")?(i=this.scope.compile(i),a.isArray(i)&&(n=i),s=this.previousValue.class.add.filter(e=>n.indexOf(e)<0)):(i=(null!==(e=this.scope.compile(i))&&void 0!==e?e:"").toString(),i=i.trim(),n=i?i.includes(" ")?i.split(" "):[i]:[],s=this.previousValue.class.add.filter(e=>n.indexOf(e)<0));n.sort().join(",")!==(null!==(t=this.previousValue.class.add)&&void 0!==t?t:[]).sort().join("")&&n.forEach(e=>{var t;return null===(t=this.element)||void 0===t?void 0:t.classList.add(e)}),s.sort().join(",")!==(null!==(r=this.previousValue.class.remove)&&void 0!==r?r:[]).sort().join("")&&s.forEach(e=>{var t;return null===(t=this.element)||void 0===t?void 0:t.classList.remove(e)}),this.previousValue.class={add:n,remove:s}}}resolveStyle(){if(this.value){let e=this.value.trim(),t=[];if(e.startsWith("{")&&e.endsWith("}")){this.helper.splitStringJSONtoKeyValue(e).forEach(e=>{try{t.push({prop:e.key,value:this.compile(e.value)})}catch(e){console.error(e.message)}})}else if(e.startsWith("[")&&e.endsWith("]"))e=this.scope.compile(e),a.isArray(e)&&e.forEach(e=>{if(e.includes(":"))try{t.push({prop:e.split(":")[0].trim(),value:e.split(":")[1].trim()})}catch(e){console.error(e.message)}});else if(e=this.scope.compile(e),e&&"string"==typeof e)if(e=e.replace(/\;\;\;/g,";").replace(/\;\;/g,";"),e.includes(";"))e.split(";").forEach(e=>{if(e.includes(":"))try{t.push({prop:e.split(":")[0].trim(),value:e.split(":")[1].trim()})}catch(e){console.error(e.message)}});else if(e.includes(":"))try{t.push({prop:e.split(":")[0].trim(),value:e.split(":")[1].trim()})}catch(e){console.error(e.message)}let r=this.previousValue.style.add.filter(e=>!t.some(t=>t.prop===e));t.forEach(e=>this.element.style[e.prop]=e.value),r.forEach(e=>this.element.style.removeProperty(e)),this.previousValue.style={add:t.map(e=>e.prop),remove:r}}}resolveRequired(){("string"==typeof this.value?"true"===this.value:!!this.value)?this.element.setAttribute("disabled",""):this.element.removeAttribute("disabled")}static checkSelectorMustHavePureValue(e){return this.selectorsMustHavePureValue.indexOf(e.replace(/\[|\(|\]|\)/g,""))>=0}};c=i([o.PrepareDirective({selector:t.NATIVE_SELECTORS}),n("design:paramtypes",[l.Helper])],c),t.NativesAttrsDirective=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IterationDirective=void 0;const i=r(4);class n extends i.Directive{constructor(){super()}}t.IterationDirective=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrepareIterateDirective=void 0;const i=r(57),n=r(0),s=r(1);r(8),t.PrepareIterateDirective=function(e){return function(t){var r,o;return e=new i.DirectiveIterationConfig(e),t.prototype.type="IterationDirective",t.prototype._selectors=(n.isArray(e.selector)?Array.from(new Set(e.selector)):e.selector?[e.selector]:[]).map(e=>e.startsWith("@")?e:"@"+e),t.prototype._inputs=null!==(r=e.inputs)&&void 0!==r?r:[],t.prototype._outputs=null!==(o=e.outputs)&&void 0!==o?o:[],t.prototype.validate=e=>{t.prototype.selector,t.name},Reflect.defineMetadata(s.INJECTABLE_METADATA_KEY,!0,t),t}}},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalObserversCollector=void 0;const n=r(1);let s=class{constructor(){this.subscribedEvents=[]}add(e,t,r){this.subscribedEvents.push({scope:e,selector:t,subscription:r})}cancelAll(){let e=this.subscribedEvents.pop();for(;e;)e.subscription.unsubscribe(),e=this.subscribedEvents.pop()}cancelByScope(e){let t=this.subscribedEvents.filter(t=>t.scope===e);if(t.length){for(let e of t)e.subscription.unsubscribe();this.subscribedEvents=this.subscribedEvents.filter(e=>!t.some(t=>t===e))}}cancelByScopeAndSelector(e,t){let r=this.subscribedEvents.filter(r=>r.selector===t&&r.scope===e);if(r.length){for(let e of r)e.subscription.unsubscribe();this.subscribedEvents=this.subscribedEvents.filter(e=>!r.some(t=>t===e))}}};s=i([n.Injectable({single:!0})],s),t.InternalObserversCollector=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFactoryProvider=t.isValueProvider=t.isClassSingletonProvider=t.isClassProvider=t.InjectionToken=void 0;t.InjectionToken=class{constructor(e){this.injectionIdentifier=e}},t.isClassProvider=function(e){return void 0!==e.useClass},t.isClassSingletonProvider=function(e){return void 0!==e.useSingleton},t.isValueProvider=function(e){return void 0!==e.useValue},t.isFactoryProvider=function(e){return void 0!==e.useFactory}},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function l(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RouteRender=void 0;const o=r(1),l=r(10),a=r(2),c=r(7),u=r(11),h=r(30);let d=class extends l.RenderAbstract{constructor(e,t){super(t),this.headerRender=e,this.listenersCollector=t}prepareRouteToCompileAndRender(e){var t;return s(this,void 0,void 0,(function*(){let r=[e,...e.getAllParents()];r.reverse();let i=u.Router.previous?u.Router.getCommonParentOfTwoRoutes(e,u.Router.previous):null;for(let e of r){const r=null===(t=null==i?void 0:i.isChild(e,!0))||void 0===t||t;i&&!r||(this.createElementFromStructure(e.structuredTemplate),yield e.pageInstance.onEnter())}}))}compileAndRenderRoute(e){var t,r,i;let n=[e,...e.getAllParents()].reverse(),s=n.shift(),o=u.Router.previous?u.Router.getCommonParentOfTwoRoutes(e,u.Router.previous):null;if(o&&u.Router.previous){const e=[u.Router.previous,...u.Router.previous.getAllParents()];for(let i of e){if(i===o)break;null===(r=null===(t=i.structuredTemplate)||void 0===t?void 0:t.compiledNode)||void 0===r||r.remove()}}(null===(i=null==o?void 0:o.structuredTemplate)||void 0===i?void 0:i.nodeIsRenderedInDOM)&&o.structuredTemplate.removeCompiledNode(),this.headerRender.resolveTitleAndMetaTags(s),this.listenersCollector.unsubscribeAll(),c.RenderHelper.removeAllChildrenOfElement(this.app.rootElement);let l=this.compileElementFromStructure(s.structuredTemplate),a=l;for(let e of n){let t=this.getRouterElement(a);if(t){let r=this.compileElementFromStructure(e.structuredTemplate);t.appendChild(r),a=r}this.headerRender.resolveTitleAndMetaTags(e)}this.app.rootElement.appendChild(l)}rerenderRoute(e){let t=[e,...e.getAllParents()].reverse(),r=null;for(let e of t){if(!r||e.structuredTemplate.isRendered)this.recompileElementFromStructure(e.structuredTemplate);else{let t=this.getRouterElement(r);if(t){let i=this.compileElementFromStructure(e.structuredTemplate);t.appendChild(i),r=i}}r=e.structuredTemplate.compiledNode}}notifyRoutesAfterRouteChanged(e){return s(this,void 0,void 0,(function*(){let t=u.Router.previous,r=e.getHighestParentOrHimself(),i=t?u.Router.getCommonParentOfTwoRoutes(e,t):r;yield this.notifyOldRoutesElementDestroyed(i,t);return{isRendered:yield this.notifyNewRoutesElementRendered(i,r,e)}}))}notifyRoutesAfterRerender(e){return s(this,void 0,void 0,(function*(){let t=u.Router.previous,r=e.getHighestParentOrHimself(),i=t?u.Router.getCommonParentOfTwoRoutes(e,t):r;return{isRendered:yield this.notifyNewRoutesElementRendered(i,r,e,!0)}}))}notifyRoutesAfterInit(e){return s(this,void 0,void 0,(function*(){let t=[e,...e.getAllParents()];for(let e of t.reverse())e.pageInstance.isAfterInitialized||(e.pageInstance.isAfterInitialized=!0,yield e.pageInstance.onAfterInit())}))}notifyOldRoutesElementDestroyed(e,t){return s(this,void 0,void 0,(function*(){if(t){let r=[];for(let i of[t,...t.getAllParents()]){if(i===e)break;r.push(i)}for(let e of r.reverse())e.pageInstance.isDestroyed||(e.pageInstance.isDestroyed=!0,yield e.pageInstance.onDestroy())}}))}notifyNewRoutesElementRendered(e,t,r,i=!1){return s(this,void 0,void 0,(function*(){let n=[],s=[r,...r.getAllParents()];if(i||e===t||t===r)n=s;else for(let t of s){if(t===e)break;n.push(t)}let o=!0,l=0;for(let e of n.reverse())o=e.structuredTemplate.isRendered,!e.pageInstance.isInitialized&&o&&("{id}"===e.path&&(console.log("RUN onInit",e.path,i?"(rerender)":"(changed)"),l=performance.now()),e.pageInstance.isInitialized=!0,yield e.pageInstance.onInit());return l>0&&console.log("RUN onInit",performance.now()-l,i?"(rerender)":"(changed)"),o}))}getRouterElement(e){return e?e.querySelector("nimble-router"):null}};d=i([o.Injectable({single:!0}),n("design:paramtypes",[h.HeaderRender,a.ElementListenersCollector])],d),t.RouteRender=d},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderRender=void 0;const s=r(5),o=r(0),l=r(1);let a=class{get app(){return s.NimbleApp.instance}constructor(){}resolveTitleAndMetaTags(e){var t;let r=e.pageInstance,i=this.resolveTitle(r.title);if(r.meta){let e=null!==(t=this.resolveMetaAndContent('name="description"',r.meta.description,i))&&void 0!==t?t:i;if(e=this.resolveMetaAndContent('name="keywords"',r.meta.keywords,e),r.meta.og){let t=r.meta.og,i=Object.keys(r.meta.og).filter(e=>!o.isNullOrUndefined(t[e])&&""!==t[e]).map(e=>e.replace(/([A-Z])/g,e=>"_"+e.toLowerCase()));if(r.title)for(let e of["title","siteName"].filter(e=>!i.some(t=>t===e)))i.push(e),t[e]=r.title;!i.some(e=>"description"===e)&&r.meta.description&&(i.push("description"),t.description=r.meta.description);for(let r of i)e=this.resolveMetaAndContent(`property="og:${r}"`,t[r],e)}}}resolveTitle(e){let t=document.head.querySelector("title");return t?t.textContent=null!=e?e:"":(t=document.createElement("title"),t.textContent=null!=e?e:"",document.head.prepend(t)),t}resolveMetaAndContent(e,t,r){if(e&&t){let i=document.head.querySelector(`[${e}]`);if(!i){i=document.createElement("meta");let t=e.split("=")[0],n=e.split("=")[1].replace(/"/g,"");r?r.after(i):document.head.prepend(i),i.setAttribute(t,n)}return i.setAttribute("content",t),i}return r}};a=i([l.Injectable({single:!0}),n("design:paramtypes",[])],a),t.HeaderRender=a},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DialogRender=void 0;const s=r(1),o=r(76),l=r(10),a=r(6),c=r(2),u=r(7);let h=class extends l.RenderAbstract{constructor(e,t){super(e),this.listenersCollector=e,this.listener=t}renderDialog(e){let t=new o.DialogRenderRef({dialogRef:e,structuredTemplate:this.createStructure(e)});this.createElementFromStructure(t.structuredTemplate);let r=this.compileElementFromStructure(t.structuredTemplate);return this.rerenderDialog(t),t.insertDialogArea(r),this.applyCloseEvents(t),t}rerenderDialog(e){e&&this.recompileElementFromStructure(e.structuredTemplate)}createStructure(e){let t=e.instance.template,r=e.instance;return u.RenderHelper.buildStructureFromTemplate(t,r,"nimble-dialog-area")}applyCloseEvents(e){this.applyClickOutEvent(e),this.applyEscapeEvent(e)}applyClickOutEvent(e){let t=e.areaElement,r=e.rootElement.querySelector(".nimble-dialog-backdrop"),i=e.containerElement,n=!1;e.listenerCancelFunctions.push(this.listener.listen(e.rootElement,"mousedown",s=>{if(!n&&e&&e.areaElement&&(r===s.target||i===s.target)){let r=t.getBoundingClientRect();(s.pageX<r.left||s.pageX>r.right||s.pageY<r.top||s.pageY>r.bottom)&&e.dialogRef.clickoutClose&&(n=!0)}})),e.listenerCancelFunctions.push(this.listener.listen(e.rootElement,"mouseup",t=>{n&&e.dialogRef.close()}))}applyEscapeEvent(e){e.listenerCancelFunctions.push(this.listener.listen(window,"keydown",t=>{e&&e.dialogRef&&27===t.keyCode&&e.dialogRef.escClose&&e.dialogRef.close()}))}};h=i([s.Injectable({single:!0}),n("design:paramtypes",[c.ElementListenersCollector,a.ElementListener])],h),t.DialogRender=h},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DialogRefCollector=void 0;const s=r(1),o=r(2);let l=class{constructor(e){this.listenerCollector=e,this.dialogInstances=[]}add(e){this.dialogInstances.push(e)}remove(e){this.removeListenersDialog(e);let t=this.dialogInstances.indexOf(e);delete this.dialogInstances[t],this.dialogInstances=this.dialogInstances.filter((e,r)=>r!==t)}getDialogRefByDialogInstance(e){return this.dialogInstances.find(t=>t.dialogRef.instance===e)}getLast(){let e=this.dialogInstances.length;return e>0?this.dialogInstances[e-1]:null}removeListenersDialog(e){this.removeStructuredListeners(e.structuredTemplate)}removeStructuredListeners(e){if(e.compiledNode&&this.listenerCollector.unsubscribeAllFromElement(e.compiledNode),e.children&&e.children.length>0)for(let t of e.children)this.removeStructuredListeners(t)}};l=i([s.Injectable({single:!0}),n("design:paramtypes",[o.ElementListenersCollector])],l),t.DialogRefCollector=l},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});var s=r(41);Object.defineProperty(t,"enviroment",{enumerable:!0,get:function(){return s.enviroment}});var o=r(5);Object.defineProperty(t,"NimbleApp",{enumerable:!0,get:function(){return o.NimbleApp}}),n(r(77),t),n(r(78),t)},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function l(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Route=void 0;const n=r(11),s=r(35),o=r(0),l=r(45),a=r(5),c=r(19),u=r(7);class h extends s.RouteBase{constructor(e){super(e),this.structuredTemplate=null,this.routeParams=new c.RouteParams,this._pageTemplate="",this.trimRoutePath(),this.checkChildren(),this.checkRoutesParent()}get isNotFoundPath(){return"**"===this.path}get pathWithParams(){return/{(.|\n)*?}/g.test(this.path)}get hasParent(){return!o.isNullOrUndefined(this.parent)}get isAbstract(){return this.children&&this.children.length>0}get childIndex(){return this.parent?this.parent.children.indexOf(this):0}get tallestParent(){return this.hasParent?this.getAllParents().pop():this}get pageTemplate(){return this._pageTemplate}isChild(e,t=!1){return null!=this.children&&this.children.some(r=>r===e||t&&r.isChild(e,!0))}loadPage(e,t,r,n=!0){return i(this,void 0,void 0,(function*(){if("string"==typeof this.page)try{!n&&this.pageInstance||(this.pageType=l.TemplatedPage,this.pageInstance=new l.TemplatedPage(this.page),this.structureTemplate()),yield e(this),yield r()}catch(e){throw yield t(e),e}else if("page"===this.page.name)try{this.page().then(r=>i(this,void 0,void 0,(function*(){try{!n&&this.pageInstance||this.instancePage(r),yield e(this)}catch(e){throw yield t(e),e}}))).catch(t).finally(r)}catch(e){throw t(e),e}else try{!n&&this.pageInstance||this.instancePage(this.page),yield e(this),yield r()}catch(e){throw yield t(e),e}}))}trimRoutePath(){var e;this.path=(null!==(e=this.path)&&void 0!==e?e:"").trim().replace(/(^\/)|(\/$)/g,"")}instancePage(e){if(this.pageType=e,this.prevPageInstance=this.pageInstance,this.routeParams=new c.RouteParams,this.pageInstance=a.NimbleApp.inject(this.pageType,e=>{e instanceof c.RouteParams&&(e.data=this.data,e.params=this.getParams(),e.parent=this.parent&&this.parent.routeParams,this.routeParams=e)}),this.pageInstance.template&&(this._pageTemplate=this.pageInstance.template,delete this.pageInstance.template),!this.pageInstance)throw new Error(`Cannot be load page of path: '${this.completePath()}'`);this.structureTemplate()}structureTemplate(){this.structuredTemplate=u.RenderHelper.buildStructureFromTemplate(this.pageTemplate,this.pageInstance,"nimble-page")}getParams(){let e={};if(/{(.|\n)*?}/g.test(this.path)){let t=this.getPieceRelativeOfTheCurrentPath().split("/");this.path.split("/").forEach((r,i)=>{if(/(^{)|(}$)/g.test(r)&&i<t.length){let n=r.replace(/(^{)|(}$)/g,""),s=t[i];e[n]=s}})}return e}getPieceRelativeOfTheCurrentPath(){let e=this.parent&&this.parent.completePath().includes("/")?this.parent.completePath().split("/").length:0,t=e+this.path.split("/").length,r=n.Router.currentPath.split("/");return r=r.slice(e,t),r.join("/")}checkChildren(){this.isAbstract&&(this.children=this.children.map(e=>new h(e)))}checkRoutesParent(){this.isAbstract&&this.children.forEach(e=>e.parent=this)}checkIfMatchCurrentLocation(){return this.isAbstract&&this.currentPathStartsRoutePath()?!!this.children.some(e=>e.checkIfMatchCurrentLocation()):this.currentPathIsMatch()}getMatchedPageWithLocation(){if(this.isAbstract&&this.currentPathStartsRoutePath()){for(let e of this.children)if(e.checkIfMatchCurrentLocation())return e.getMatchedPageWithLocation()}else if(this.currentPathIsMatch())return this;return null}currentPathIsMatch(){let e=this.completePath();if(/{(.|\n)*?}/g.test(e)){let t=e.replace(/{(.|\n)*?}/g,e=>"(.|\n)*");return RegExp(t,"g").test(n.Router.currentPath)}return n.Router.currentPath===this.completePath()}currentPathStartsRoutePath(){let e=this.completePath();if(/{(.|\n)*?}/g.test(e)){let t=e.replace(/{(.|\n)*?}/g,e=>"(.*)");return RegExp(t,"g").test(n.Router.currentPath)}return n.Router.currentPath.startsWith(this.completePath())}completePath(){let e=(this.parent&&this.parent.path?this.parent.completePath().concat("/"):"")+this.path;return e.endsWith("/")?e.substr(0,e.length-1):e}getAllParents(){let e=[],t=this;for(;!o.isNullOrUndefined(t.parent);)t.parent.page&&e.push(t.parent),t=t.parent;return e}getHighestParentOrHimself(){return this.hasParent?this.getAllParents().pop():this}}t.Route=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InjectedPage=t.RouteBase=void 0;t.RouteBase=class{constructor(e){this.path="",this.data=null,e&&Object.assign(this,e)}};t.InjectedPage=class{constructor(e){Object.assign(this,e)}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function l(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=void 0;t.Dialog=class{onOpen(){}onClose(){}render(e){return i(this,void 0,void 0,(function*(){return e&&e(),this.onNeedRerender?yield this.onNeedRerender(this):new Promise(e=>e())}))}compile(e){try{return new Function(`with(this) { return ${e} }`).call(this)}catch(e){return console.error(e.message),null}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInjectionToken=t.Inject=void 0,r(8);const i=Symbol("INJECT_KEY");t.Inject=function(e){return function(t,r,n){return Reflect.defineMetadata(i,e,t,"index-"+n),t}},t.getInjectionToken=function(e,t){return Reflect.getMetadata(i,e,"index-"+t)}},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DialogBuilder=t.DIALOG_REF=void 0;const s=r(1),o=r(28),l=r(39),a=r(5),c=r(31),u=r(32);t.DIALOG_REF=new o.InjectionToken("DIALOG_REF");let h=class{constructor(e,t){this.dialogRender=e,this.dialogCollector=t}get app(){return a.NimbleApp.instance}open(e,r){let i,n;const s=new l.DialogRef({config:r,type:e,onOpen:new Promise(e=>{n=e})},()=>i.rootElement,this.close.bind(this));return a.NimbleApp.registerProvider({provide:t.DIALOG_REF,useValue:s}),s.instance=a.NimbleApp.inject(e),s.instance.onNeedRerender=this.rerender.bind(this),i=this.dialogRender.renderDialog(s),this.dialogCollector.add(i),n(),s.instance.onOpen(),a.NimbleApp.unregisterProvider(t.DIALOG_REF),s}closeAll(){let e=this.dialogCollector.getLast();for(;e;)e.dialogRef.close(),e=this.dialogCollector.getLast()}close(e,t,r){let i=e instanceof l.DialogRef?this.dialogCollector.getDialogRefByDialogInstance(e.instance):e;i&&(i.closeElements(()=>{i.removeFromDOM(),i.dialogRef.instance.onClose(),t(r)}),this.dialogCollector.remove(i))}rerender(e){this.app.state=a.NimbleAppState.RERENDERING;let t=this.dialogCollector.getDialogRefByDialogInstance(e);this.dialogRender.rerenderDialog(t),this.app.state=a.NimbleAppState.INITIALIZED}};h=i([s.Injectable(),n("design:paramtypes",[c.DialogRender,u.DialogRefCollector])],h),t.DialogBuilder=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogRef=void 0;t.DialogRef=class{constructor(e,t,r){this.getElement=t,this.builderClose=r,this.escClose=!0,this.clickoutClose=!0,Object.assign(this,e),this.config&&(this.data=this.config.data),this.onClose=new Promise(e=>{this.promiseCloseResolve=e})}get element(){return this.getElement()}close(e){setTimeout(()=>this.builderClose(this,this.promiseCloseResolve,e))}}},function(e,t,r){r(82),r(80),e.exports=r(81)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enviroment=void 0,t.enviroment=Object.assign({},{production:!0,baseUrl:"https://your-prod-url.com.br",default:{production:!0,baseUrl:"https://your-prod-url.com.br"}})},function(e,t){
/**
@license @nocompile
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
!function(){"use strict";!function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement;window.HTMLElement={HTMLElement:function(){return Reflect.construct(e,[],this.constructor)}}.HTMLElement,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}()}()},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatedPage=void 0;const s=r(16),o=r(1);let l=class extends s.Page{constructor(e){super(),this.template=e}};l=i([o.Injectable(),n("design:paramtypes",[String])],l),t.TemplatedPage=l},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function l(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;const n=r(14),s=r(5),o=r(2),l=r(15);t.Form=class{constructor(e){if(this.onSubmit=new l.Observer,this._fields={},this._renderOnInteract=!0,this._submitted=!1,this._isSubmitting=!1,e&&Object.keys(e).length>0)for(let t in e){let r=new n.FormField;r.parent=this,r.setValidators(e[t].validators),r.setValue(e[t].value,{noNotify:!0,noUpdateElement:!0,noValidate:!0}),this._fields[t]=r}}get fields(){return this._fields?this._fields:{}}get formElement(){return this._formElement}set formElement(e){this._formElement=e,this.setFormListeners()}get renderOnInteract(){return this._renderOnInteract}set renderOnInteract(e){this._renderOnInteract=e}get scope(){return this._scope}set scope(e){this._scope=e}get submitted(){return this._submitted}get isSubmitting(){return this._isSubmitting}get isEnabled(){return Object.keys(this._fields).every(e=>this._fields[e].isEnabled)}get isDisabled(){return Object.keys(this._fields).every(e=>this._fields[e].isDisabled)}get blurred(){return Object.keys(this._fields).some(e=>this._fields[e].blurred)}get touched(){return Object.keys(this._fields).some(e=>this._fields[e].touched)}get errors(){let e={};for(let t in this._fields){let r=this._fields[t];if(r.errors){let t=Object.keys(r.errors);for(let i of t)i in e||(e[i]=r.errors[i])}}return"{}"===JSON.stringify(e)?null:e}get isValid(){let e=Object.keys(this.fields);return 0===e.length||e.every(e=>this.fields[e].isValid)}get listenerCollector(){return s.NimbleApp.inject(o.ElementListenersCollector)}get isReseting(){return this._isReseting}get(e){return e in this.fields?this.fields[e]:(console.error(`The field "${e}" not found.`),new n.FormField({}))}get value(){let e={};for(let t in this._fields)e[t]=this.get(t).value;return e}has(e){return!(!this.fields||!Object.keys(this.fields).some(t=>t===e))}hasErrors(){let e=this.errors;return!!(e&&Object.keys(e).length>0)}reset(e){try{this._isReseting=!0;for(let t in this.fields){this.fields[t].reset(e)}}finally{return this._isReseting=!1,this.renderIfNeed(),this}}validate(){let e=!0;for(let t in this.fields){this.fields[t].validate()||(e=!1)}return e}setTouched(){for(let e in this.fields)this.fields[e].setTouched()}setUntouched(){for(let e in this.fields)this.fields[e].setUntouched()}setBlurred(){for(let e in this.fields)this.fields[e].setBlurred()}setUnblurred(){for(let e in this.fields)this.fields[e].setUnblurred()}disable(){for(let e in this.fields)this.fields[e].disable()}enable(){for(let e in this.fields)this.fields[e].enable()}setFormListeners(){this.listenerCollector.subscribe(this.formElement,"submit",e=>{this._isSubmitting=!0,this._submitted=!0,this.validate(),this.onSubmit.notify(e),this.renderIfNeed(),this._isSubmitting=!1},!0)}renderIfNeed(){return i(this,void 0,void 0,(function*(){this.renderOnInteract&&this.scope&&this.scope.onNeedRerender&&(yield this.scope.onNeedRerender(this.scope))}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterStateType=void 0,function(e){e.START="START",e.END="END",e.NONE="NONE"}(t.RouterStateType||(t.RouterStateType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterEvent=void 0;t.RouterEvent=class{constructor(e){Object.assign(this,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NimblePage=void 0;class i extends HTMLElement{constructor(){super()}}t.NimblePage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NimbleRouter=void 0;class i extends HTMLElement{constructor(){super()}}t.NimbleRouter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NimbleDialog=void 0;class i extends HTMLElement{constructor(){super()}connectedCallback(){this.classList.add("nimble-dialog"),this.innerHTML='\n        <div class="nimble-dialog-backdrop"></div>\n        <div class="nimble-dialog-panel">\n            <div class="nimble-dialog-container">\n            </div>\n        </div>'}}t.NimbleDialog=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NimbleDialogArea=void 0;class i extends HTMLElement{constructor(){super()}connectedCallback(){this.classList.add("nimble-dialog-area")}}t.NimbleDialogArea=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INTERNAL_DIRECTIVES=void 0;const i=r(55),n=r(58),s=r(59),o=r(24),l=r(60),a=r(61),c=r(62),u=r(63),h=r(64),d=r(65),f=r(66),p=r(67),v=r(68),m=r(21),g=r(69);t.INTERNAL_DIRECTIVES=[i.IfDirective,n.ForDirective,s.HrefDirective,o.NativesAttrsDirective,g.ElementsDirective,l.ClipboardEventsDirective,a.DragEventsDirective,c.FormEventsDirective,u.KeyboardEventsDirective,h.MouseEventsDirective,m.FormDirective,d.FormFieldDirective,f.FieldMaskDirective,p.FieldDateMaskDirective,v.FieldCurrencyMaskDirective]},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.IfDirective=void 0;const n=r(25),s=r(10),o=r(26);let l=class extends n.IterationDirective{onRender(){}onIterate(){return!!this.compile(this.value)?[new s.IterateDirectiveResponse]:[]}onChange(){}onDestroy(){}};l=i([o.PrepareIterateDirective({selector:["if"]})],l),t.IfDirective=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElementIterationStructure=void 0;const i=r(13),n=r(20);class s extends i.ElementStructureAbstract{constructor(e){super(e.scope),this.from=null,this.from=e,this.parent=e.parent,this.tagName=e.tagName,this.content=e.content,this.directivesInstance=[],this.rawNode=e.rawNode.cloneNode(e.isPureElement),this.isVoid=e.isVoid,this.isPureElement=e.isPureElement,this.isRendered=!1,this.compiledNode=null,this.attrs=e.attrs.map(e=>new i.AttributeStructure(e.name,e.value,this,e.directiveType,!0)),this.attrDirectives={default:e.attrDirectives.default.map(e=>({directive:new i.AttributeStructure(e.directive.name,e.directive.value,this,e.directive.directiveType,!0),props:{in:e.props.in.map(e=>new i.AttributeStructure(e.name,e.value,this,e.directiveType,!0)),out:e.props.out.map(e=>new i.AttributeStructure(e.name,e.value,this,e.directiveType,!0))}})),iterate:{directive:null,props:{in:[],out:[]}}},this.compiledBeginFn=null,this.compiledEndFn=null,this.children=this.cloneChildrensRecursive(this.from.children,this)}cloneChildrensRecursive(e,t){return e.filter(e=>!(e instanceof s)).map(e=>{let r=new n.ElementStructure(this.scope);return r.parent=t,r.tagName=e.tagName,r.content=e.content,r.directivesInstance=[],r.rawNode=e.rawNode.cloneNode(e.isPureElement),r.isVoid=e.isVoid,r.isPureElement=e.isPureElement,r.hasInterpolationInText=e.hasInterpolationInText,r.attrs=e.attrs.map(e=>new i.AttributeStructure(e.name,e.value,r,e.directiveType,!0)),r.attrDirectives={default:e.attrDirectives.default.map(e=>({directive:new i.AttributeStructure(e.directive.name,e.directive.value,r,e.directive.directiveType,!0),props:{in:e.props.in.map(e=>new i.AttributeStructure(e.name,e.value,r,e.directiveType,!0)),out:e.props.out.map(e=>new i.AttributeStructure(e.name,e.value,r,e.directiveType,!0))}})),iterate:{directive:e.attrDirectives.iterate.directive?new i.AttributeStructure(e.attrDirectives.iterate.directive.name,e.attrDirectives.iterate.directive.value,r,e.attrDirectives.iterate.directive.directiveType,!0):null,props:{in:e.attrDirectives.iterate.props.in.map(e=>new i.AttributeStructure(e.name,e.value,r,e.directiveType,!0)),out:e.attrDirectives.iterate.props.out.map(e=>new i.AttributeStructure(e.name,e.value,r,e.directiveType,!0))}}},r.children=e.children.length>0?this.cloneChildrensRecursive(e.children,r):[],r})}}t.ElementIterationStructure=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveIterationConfig=void 0;const i=r(22);class n extends i.DirectiveConfig{constructor(e){super(e),Object.assign(this,e)}}t.DirectiveIterationConfig=n},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ForDirective=void 0;const s=r(25),o=r(10),l=r(26),a=r(0);let c=class extends s.IterationDirective{constructor(){super(),this.last={iteration:[],data:[]}}onRender(){}onIterate(){let e=this.value.trim();e.startsWith("(")&&e.endsWith(")")&&(e=e.substr(1,e.length-2));const t=e.startsWith("let ")||e.startsWith("var ")||e.startsWith("const "),r=e.split(" ")[t?1:0],i={expressionOrName:e.split(" ").slice(t?3:2).join(""),value:this.compile(e.split(" ").slice(t?3:2).join(""))};if(!a.isArray(i.value))return this.element.remove(),console.error(`SyntaxError: Invalid expression: ${i.expressionOrName} does not appear to be an array.`),[];let n=!1,s=null;return this.last.data=i.value,this.last.iteration.length!==i.value.length&&(this.last.iteration=i.value.map((e,t)=>new o.IterateDirectiveResponse({beginFn:()=>{n=r in this.scope,s=n?this.scope[r]:null,this.scope[r]=this.last.data[t],this.scope.$index=t},endFn:()=>{delete this.scope.$index,n?this.scope[r]=s:delete this.scope[r]}}))),this.last.iteration}onChange(){}onDestroy(){}};c=i([l.PrepareIterateDirective({selector:"for"}),n("design:paramtypes",[])],c),t.ForDirective=c},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HrefDirective=void 0;const s=r(4),o=r(3),l=r(11),a=r(2),c=r(5);let u=class extends s.Directive{constructor(e){super(),this.listenersCollector=e,this.isListening=!1,this.canClick=!0}get baseHref(){return c.NimbleApp.instance.baseHref}get hasBaseHref(){return c.NimbleApp.instance.hasBaseHref}onRender(){var e;this.canClick=!1;let t=null!==(e=this.value)&&void 0!==e?e:"",r=t.startsWith("#")||t.startsWith("/#"),i=t.replace(/^(#)/g,"");if(!t.startsWith("http:")&&!t.startsWith("https:"))if(l.Router.useHash)r?console.error(`The link "#${i}" with "#" not work in useHash mode setted in NimbleApple.`):i="#/"+i.replace(/^(\/)/g,"");else{if(this.canClick=!0,r)i=`${location.pathname}#${i}`;else if(!i.startsWith("/")){i=`${this.baseHref.replace(/(\/)$/g,"")}/${i}`}this.isListening||(this.isListening=!0,this.listenersCollector.subscribe(this.element,"click",e=>{if(this.canClick){let t=this.element.attributes[this.selector],r=null==t?void 0:t.value;r&&!r.startsWith(this.baseHref)||(setTimeout(()=>{l.Router.redirect(r)}),e.preventDefault())}},!0))}this.element.hasAttribute(this.selector)?this.element.attributes[this.selector].value=i:this.element.setAttribute(this.selector,i)}onChange(){this.onRender()}onDestroy(){this.isListening=!1}};u=i([o.PrepareDirective({selector:"href"}),n("design:paramtypes",[a.ElementListenersCollector])],u),t.HrefDirective=u},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardEventsDirective=void 0;const s=r(4),o=r(3),l=r(6);let a=class extends s.Directive{constructor(e){super(),this.listener=e}onRender(){this.listener.listen(this.element,this.selector.replace(/\(|\)/g,""),e=>{this.outputs[this.selector](e)})}onChange(){}onDestroy(){}};a=i([o.PrepareDirective({selector:["(copy)","(cut)","(past)"]}),n("design:paramtypes",[l.ElementListener])],a),t.ClipboardEventsDirective=a},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DragEventsDirective=void 0;const s=r(4),o=r(3),l=r(6);let a=class extends s.Directive{constructor(e){super(),this.listener=e}onRender(){this.listener.listen(this.element,this.selector.replace(/\(|\)/g,""),e=>{this.outputs[this.selector](e)})}onChange(){}onDestroy(){}};a=i([o.PrepareDirective({selector:["(drag)","(dragend)","(dragenter)","(dragleave)","(dragover)","(dragstart)","(drop)","(scrol)"]}),n("design:paramtypes",[l.ElementListener])],a),t.DragEventsDirective=a},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FormEventsDirective=void 0;const s=r(4),o=r(3),l=r(6);let a=class extends s.Directive{constructor(e){super(),this.listener=e}onRender(){this.listener.listen(this.element,this.selector.replace(/\(|\)/g,""),e=>{this.outputs[this.selector](e)})}onChange(){}onDestroy(){}};a=i([o.PrepareDirective({selector:["(blur)","(focus)","(input)","(select)"]}),n("design:paramtypes",[l.ElementListener])],a),t.FormEventsDirective=a},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardEventsDirective=void 0;const s=r(4),o=r(3),l=r(6);let a=class extends s.Directive{constructor(e){super(),this.listener=e}onRender(){this.listener.listen(this.element,this.selector.replace(/\(|\)/g,""),e=>{this.outputs[this.selector](e)})}onChange(){}onDestroy(){}};a=i([o.PrepareDirective({selector:["(keydown)","(keypress)","(keyup)"]}),n("design:paramtypes",[l.ElementListener])],a),t.KeyboardEventsDirective=a},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseEventsDirective=void 0;const s=r(4),o=r(3),l=r(6);let a=class extends s.Directive{constructor(e){super(),this.listener=e}onRender(){this.listener.listen(this.element,this.selector.replace(/\(|\)/g,""),e=>{this.outputs[this.selector](e)})}onChange(){}onDestroy(){}};a=i([o.PrepareDirective({selector:["(click)","(dblclick)","(mousedown)","(mousemove)","(mouseout)","(mouseover)","(mouseup)","(mousewheel)","(wheel)"]}),n("design:paramtypes",[l.ElementListener])],a),t.MouseEventsDirective=a},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FormFieldDirective=void 0;const s=r(3),o=r(14),l=r(27),a=r(0),c=r(9),u=r(2);let h=class extends c.BaseFormFieldDirective{constructor(e,t){super(),this.listenerCollector=e,this.internalEventsCollector=t}onRender(){this.checkForm()&&(["form-field","form-field-name"].some(e=>e===this.selector)?this.elementIsValid()&&(this.value instanceof o.FormField||this.formFieldNameSelectorIsValid())&&(this.formField.setElement(this.element),this.canApplyFormField()&&(this.resolveFormFieldSelector(),this.resolveFormFieldSpecifications())):"(valueChange)"===this.selector&&this.resolveValueChangeSelector())}onChange(){["form-field","form-field-name"].some(e=>e===this.selector)&&this.elementIsValid()&&(this.value instanceof o.FormField||this.formFieldNameSelectorIsValid())&&this.resolveFormFieldSpecifications()}onDestroy(){}formFieldNameSelectorIsValid(){return"string"!=typeof this.value?(console.error("Some form-field-name directive cannot be appplied, because the it value must be a string."),!1):!!this.form.has(this.value)||(console.error(`The form-field-name directive cannot be appplied, because the "${this.value}" field not exists in the form.`),!1)}resolveFormFieldSpecifications(){var e,t;this.formField&&(this.formField.isEnabled?null===(e=this.element)||void 0===e||e.removeAttribute("disabled"):null===(t=this.element)||void 0===t||t.setAttribute("disabled","true"))}resolveFormFieldSelector(){let e=this.formField,t=this.element;if("radio"===t.type)t.value!==e.value&&(t.value||e.value)||(t.checked=!0),this.listenerCollector.subscribe(this.element,"click",r=>{this.formField.isEnabled&&(e.elements.forEach(e=>{e!==t&&(e.checked=!1)}),t.checked=!0,e.setValue(t.value))},!0);else if("checkbox"===t.type){let r=t.hasAttribute("value")?t.value:"";a.isBoolean(e.value)?t.checked=e.value:t.checked=r===e.value||a.isArray(e.value)&&e.value.some(e=>e===r),this.listenerCollector.subscribe(this.element,"click",i=>{if(this.formField.isEnabled)if(1===e.elements.length)a.isBoolean(e.value)?e.setValue(t.checked):e.setValue(t.checked?r:"");else if(e.elements.every(e=>e.hasAttribute("value"))){let i=a.isArray(e.value)?e.value:[e.value];t.checked?i.push(r):i=i.filter(e=>e!==r),e.setValue(i)}else console.error('The [form-field] input of type "checkbox" must contain the attribute "value"')},!0)}else t.value=a.isUndefined(e.value)?null:e.value,this.listenerCollector.subscribe(t,"input",r=>{if(this.formField.isEnabled){let r=t.value;"number"===t.type&&(r=isNaN(parseInt(r))?null:parseInt(r)),e.setValue(r,{noUpdateElement:!0})}},!0)}resolveValueChangeSelector(){this.formField?this.internalEventsCollector.add(this.scope,"(valueChanges)",this.formField.valueChanges.subscribe(e=>{this.outputs.valueChanges(e)})):console.error("The directive (valueChanges) cannot be appplied, because the [form-field] directive must exist before it.")}canApplyFormField(){return!this.others.some(e=>e instanceof c.BaseFormFieldDirective)}elementIsValid(){return[HTMLInputElement,HTMLTextAreaElement,HTMLSelectElement].some(e=>this.element instanceof e)}};h=i([s.PrepareDirective({selector:["[form-field]","form-field-name","(valueChange)"]}),n("design:paramtypes",[u.ElementListenersCollector,l.InternalObserversCollector])],h),t.FormFieldDirective=h},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldMaskDirective=void 0;const s=r(3),o=r(0),l=r(9),a=r(2);let c=class extends l.BaseFormFieldDirective{constructor(e){super(),this.listenerCollector=e,this.RULES={CHARS:{NUMBER:"0".toString(),LETTER:"Z".toString()},REGEX:{NUMBER:/[0-9]/,LETTER:/[a-zA-Z]/}}}get mask(){return this.value}onRender(){if(this.checkForm()&&this.elementIsValid())try{this.checkValueOnInitialize(),this.listenerCollector.subscribe(this.element,"keypress",this.onKeypress.bind(this),!0),this.listenerCollector.subscribe(this.element,"input",this.onInput.bind(this),!0)}catch(e){console.error(e.message)}}onChange(){this.checkForm()&&this.checkValueOnInitialize()}onDestroy(){}elementIsValid(){return this.element instanceof HTMLInputElement&&("text"===this.element.type||"password"===this.element.type)?""!==this.value&&!o.isNullOrUndefined(this.value)||(console.warn(`The directive "${this.selector}" cannot works with empty value.`),!1):(console.error(`The directive "${this.selector}" only applies in input with type="text".`),!1)}characterInKeypressIsValid(e,t){return t.toString()===this.RULES.CHARS.NUMBER?this.RULES.REGEX.NUMBER.test(e.toString()):t.toString()!==this.RULES.CHARS.LETTER||this.RULES.REGEX.LETTER.test(e.toString())}characterAfterInputIsValid(e,t){return t.toString()===this.RULES.CHARS.NUMBER?this.RULES.REGEX.NUMBER.test(e.toString()):t.toString()===this.RULES.CHARS.LETTER?this.RULES.REGEX.LETTER.test(e.toString()):e.toString()===t.toString()}checkValueOnInitialize(){let e=this.element,t=this.formField?this.formField.value:e.value;t=this.applyMask(o.isNullOrUndefined(t)?"":t),e.value=t,this.formField&&t!==this.formField.value&&this.formField.setValue(t,{noNotify:!0,noUpdateElement:!0,noValidate:!0})}onKeypress(e){let t=this.element,r=t.value.length,i=this.mask.length,n=e.key,s=this.mask[r];if(1===n.length){if(r>=i)return void e.preventDefault();if(!this.characterInKeypressIsValid(n,s))return void e.preventDefault()}if(!s||n.length>1)return;let o=this.applyMaskInCharacter(n,s,r);o.includes(n)&&e.preventDefault(),t.value+=o}onInput(e){let t=this.element,r=this.applyMask(t.value);t.value=r,this.formField&&r!==this.formField.value&&this.formField.setValue(t.value,{noUpdateElement:!0})}applyMaskInCharacter(e,t,r){return t.toString()===this.RULES.CHARS.NUMBER&&this.RULES.REGEX.NUMBER.test(e.toString())||t.toString()===this.RULES.CHARS.LETTER&&this.RULES.REGEX.LETTER.test(e.toString())?"":this.getNextSequencialMaskChars(r)}getNextSequencialMaskChars(e){let t="";for(let r=e;r<this.mask.length;r++){let e=this.mask[r].toString();if(e===this.RULES.CHARS.NUMBER&&this.RULES.REGEX.NUMBER.test(e)||e===this.RULES.CHARS.LETTER&&this.RULES.REGEX.LETTER.test(e))break;t+=e}return t}applyMask(e){for(var t=0;t<e.length;t++){let r=e[t].toString(),i=this.mask[t];if(!i){e=e.substr(0,t);break}if(i=i.toString(),this.characterAfterInputIsValid(r,i)){let n=this.applyMaskInCharacter(r,i,t);n&&r!==i&&(e+=n)}else{if(this.isSpecialCharacter(i)&&r!==i){let r=e.substr(0,t),n=e.substr(t);e=r+i+n;continue}e=e.substr(0,t)+e.substr(t+1),t--}}return e}isSpecialCharacter(e){return!this.RULES.REGEX.LETTER.test(e.toString())&&!this.RULES.REGEX.NUMBER.test(e.toString())}};c=i([s.PrepareDirective({selector:["field-mask"]}),n("design:paramtypes",[a.ElementListenersCollector])],c),t.FieldMaskDirective=c},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldDateMaskDirective=void 0;const s=r(0),o=r(3),l=r(12),a=r(9),c=r(2);let u=class extends a.BaseFormFieldDirective{constructor(e,t){super(),this.helper=e,this.listenerCollector=t,this.format="",this.previousIsBackspace=!1}onRender(){if(this.checkForm()&&this.elementIsValid())try{this.format=this.value,this.prepareRegex(),this.checkValueOnInitialize(),this.listenerCollector.subscribe(this.element,"keypress",this.onKeypress.bind(this),!0),this.listenerCollector.subscribe(this.element,"keydown",this.onKeydown.bind(this),!0),this.listenerCollector.subscribe(this.element,"input",this.onInput.bind(this),!0)}catch(e){console.error(e.message)}}onChange(){this.format=this.value,this.prepareRegex(),this.checkValueOnInitialize()}onDestroy(){}checkValueOnInitialize(){let e=this.element,t=this.formField?this.formField.value:e.value;t="string"==typeof t?t.replace(/[^\d]/g,""):"",t.match(this.regex)?t="":(t=t.replace(/[^\d]/g,""),t=this.applyMask(t)),e.value=t,this.formField&&t!==this.formField.value&&this.formField.setValue(e.value,{noNotify:!0,noUpdateElement:!0,noValidate:!0})}elementIsValid(){return this.element instanceof HTMLInputElement&&"text"===this.element.type?""!==this.value&&!s.isNullOrUndefined(this.value)||(console.warn(`The directive "${this.selector}" cannot works with empty value.`),!1):(console.error(`The directive "${this.selector}" only applies in input with type="text".`),!1)}prepareRegex(){let e="";if(this.format)if(this.format.includes("-")||this.format.includes("/")){if(this.format.includes("-")||this.format.includes("/")){this.separator=this.format.includes("-")?"-":"/",this.format.split(this.separator).forEach(t=>{let r="";"dd"===t.toLowerCase()?r="([0-2]\\d{1}|3[0-1])":"mm"===t.toLowerCase()?r="(0\\d{1}|1[0-2])":"yyyy"===t.toLowerCase()&&(r="\\d{4}"),r&&(e+=(""!==e?this.separator:"")+r)})}}else"dd"===this.format.toLowerCase()?e+="([0-2]\\d{1}|3[0-1])":"mm"===this.format.toLowerCase()?e+="(0\\d{1}|1[0-2])":"yyyy"===this.format.toLowerCase()&&(e+="\\d{4}");""===e&&(this.separator="/",this.format="dd/MM/yyyy",e="([0-2]\\d{1}|3[0-1])/(0d{1}|1[0-2])/\\d{4}"),this.regex=new RegExp(e,"g")}onKeypress(e){let t=this.element,r=e.key,i=t.value,n=i,s=t.selectionStart,o=t.selectionEnd;if(1===r.length)if((i.length<this.format.length||s!==o)&&/^\d+$/.test(r)){n=this.helper.insertInTextWithInterval(i,r,t.selectionStart,t.selectionEnd);let s=this.checkDateIsValid(n);if(!s.valid)return void e.preventDefault();s.nextValue&&(t.value=n+s.nextValue,e.preventDefault(),t.dispatchEvent(new Event("input",{bubbles:!1,cancelable:!0})))}else e.preventDefault()}onKeydown(e){this.previousIsBackspace=this.isBackspace(e)}onInput(e){try{let t=this.element,r=t.value;this.previousIsBackspace||(r.match(this.regex)?e.preventDefault():(r=r.replace(/[^\d]/g,""),r=this.applyMask(r),t.value=r)),this.formField&&r!==this.formField.value&&this.formField.setValue(t.value,{noUpdateElement:!0})}finally{this.previousIsBackspace=!1}}checkDateIsValid(e){let t={valid:!1,formatedValue:"",nextValue:""};if((e=e.substr(0,this.format.length)).length!==this.format.length){let i="";if(this.separator)for(var r=0;r<this.format.length;r++){let n=this.format[r],s=r+1;if(n===this.separator)r===e.length&&(t.nextValue=this.separator),i+=n;else if(s<=e.length){let t=r-(i.split(this.separator).length-1);i+=e.replace(/[^\d]/g,"")[t]}else i+="1"}t.formatedValue=i}else t.formatedValue=e;return t.valid=!s.isNullOrUndefined(t.formatedValue.match(this.regex)),t}applyMask(e){let t=(e=(e||"").substr(0,this.format.replace(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/,"").length)).length;if(e){let i="";for(var r=0;r<t;r++){let t=e[r];this.format[r+(i.split(this.separator).length-1)]===this.separator&&(i+=this.separator),i+=t}return i=i.substr(0,this.format.length),i}return e}isBackspace(e){let t=e.keyCode||e.charCode;return 8==t||46==t}};u=i([o.PrepareDirective({selector:["field-date-mask"]}),n("design:paramtypes",[l.Helper,c.ElementListenersCollector])],u),t.FieldDateMaskDirective=u},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldCurrencyMaskDirective=void 0;const s=r(3),o=r(0),l=r(12),a=r(9),c=r(2);let u=class extends a.BaseFormFieldDirective{constructor(e,t){super(),this.helper=e,this.listenerCollector=t,this.options={prefix:"",decimal:",",thousands:".",precision:2}}get prefix(){var e;return null!==(e=this.options.prefix)&&void 0!==e?e:""}get decimalSymbol(){var e;return null!==(e=this.options.decimal)&&void 0!==e?e:","}get thousandsSymbol(){var e;return null!==(e=this.options.thousands)&&void 0!==e?e:"."}get precision(){var e;return null!==(e=this.options.precision)&&void 0!==e?e:2}onRender(){if(this.checkForm()&&this.elementIsValid())try{this.defineOptions(),this.checkValueOnInitialize(),this.listenerCollector.subscribe(this.element,"keypress",this.onKeypress.bind(this),!0),this.listenerCollector.subscribe(this.element,"input",this.onInput.bind(this),!0)}catch(e){console.error(e.message)}}onChange(){this.defineOptions(),this.checkValueOnInitialize()}defineOptions(){o.isObject(this.value)?Object.assign(this.options,this.value):o.isNullOrUndefined(this.value)||(this.options.prefix=this.value.toString())}checkValueOnInitialize(){let e=this.element,t=this.formField?this.formField.value:e.value.replace(/[^\d]/g,"");t=this.applyMask(t,!1),e.value=t;let r=this.parseFloat(t);this.formField&&r!==this.formField.value&&this.formField.setValue(r,{noNotify:!0,noUpdateElement:!0,noValidate:!0})}elementIsValid(){return this.element instanceof HTMLInputElement&&"text"===this.element.type||(console.error(`The directive "${this.selector}" only applies in input with type="text".`),!1)}onKeypress(e){let t=this.element,r=e.key;t.value,t.selectionStart,t.selectionEnd;1===r.length&&(/^\d+$/.test(r)||e.preventDefault())}onInput(e){let t=this.element,r=t.value;r=this.applyMask(r),t.value=r;let i=this.parseFloat(r);this.formField&&i!==this.formField.value&&this.formField.setValue(i,{noUpdateElement:!0})}applyMask(e,t=!0){if("string"==typeof(e=e||0))if(t)e=e.replace(/([^0-9]*)/g,"").replace(/^0+/g,"");else{let t=this.prefix?`([${this.prefix}| ]*)`:"([ ]*)";e=e.toString().replace(new RegExp(t,"g"),""),e=this.parseFloat(e)}let r="",i="";return(e=e.toString()).includes(".")?(r=e.split(".")[0],i=this.helper.padRight(e.split(".")[1],this.precision)):t?(r=e.substr(0,e.length-this.precision),i=e.length>this.precision?e.substr(i.length-this.precision):e):r=e,r=r?r.replace(/(\d)(?=(?:[0-9]{3})+\b)/g,e=>`${e}${this.thousandsSymbol}`):"0",i=this.helper.padLeft(i,this.precision),e=`${r}${this.decimalSymbol}${i}`,e=(this.prefix?this.prefix+" ":"")+e}parseFloat(e){return this.prefix&&(e=e.replace(this.prefix,"").trim()),e=e.replace(new RegExp(`[/${this.thousandsSymbol}]`,"g"),""),"."!==this.decimalSymbol&&(e=e.replace(this.decimalSymbol,".")),""!==e?parseFloat(e):null}onDestroy(){}};u=i([s.PrepareDirective({selector:["field-currency-mask"]}),n("design:paramtypes",[l.Helper,c.ElementListenersCollector])],u),t.FieldCurrencyMaskDirective=u},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ElementsDirective=t.ELEMENT_SELECTORS=void 0;const s=r(4),o=r(3);t.ELEMENT_SELECTORS=["html","content"];let l=class extends s.Directive{constructor(){super()}onRender(){"html"===this.selector?this.resolveHtml():"content"===this.selector&&this.resolveContent()}onChange(){this.onRender()}resolveHtml(){var e;this.element.innerHTML.trim()!==(null!==(e=this.value)&&void 0!==e?e:"").trim()&&(this.element.innerHTML=this.value)}resolveContent(){var e,t;(null===(e=this.element)||void 0===e?void 0:e.textContent.trim())!==(null!==(t=this.value)&&void 0!==t?t:"").trim()&&(this.element.textContent=this.value)}onDestroy(){}};l=i([o.PrepareDirective({selector:t.ELEMENT_SELECTORS}),n("design:paramtypes",[])],l),t.ElementsDirective=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0,r(8);const i=r(28),n=r(1),s=r(37);t.Container=class{constructor(){this.providers=new Map}addProvider(e){this.assertInjectableIfClassProvider(e),this.providers.set(e.provide,e)}removeProvider(e){this.providers.has(e)&&this.providers.delete(e)}inject(e,t){let r=this.providers.get(e);return void 0!==r||e instanceof i.InjectionToken||(r={provide:e,useClass:e},this.assertInjectableIfClassProvider(r)),this.injectWithProvider(e,r,t)}injectWithProvider(e,t,r){if(void 0===t)throw new Error("No provider for type "+this.getTokenName(e));if(i.isClassProvider(t)){let e=this.injectClass(t,r);return r&&r(e),e}if(i.isClassSingletonProvider(t)){let e=this.injectSingleton(t,r);return r&&r(e),e}return i.isValueProvider(t)?this.injectValue(t):this.injectFactory(t)}assertInjectableIfClassProvider(e){if(i.isClassProvider(e)&&!n.isInjectable(e.useClass))throw new Error(`Cannot provide ${this.getTokenName(e.provide)} using class ${this.getTokenName(e.useClass)}, ${this.getTokenName(e.useClass)} isn't injectable`)}injectClass(e,t){const r=e.useClass,i=this.getInjectedParams(r,t);return Reflect.construct(r,i)}injectSingleton(e,t){if(!e.instance){const r=e.useSingleton,i=this.getInjectedParams(r,t);e.instance=Reflect.construct(r,i)}return e.instance}injectValue(e){return e.useValue}injectFactory(e){return e.useFactory()}getInjectedParams(e,t){const r=Reflect.getMetadata("design:paramtypes",e);return void 0===r?[]:r.map((r,i)=>{if(void 0===r)throw new Error(`Injection error. Recursive dependency detected in constructor for type ${e.name} with parameter at index ${i}`);const n=s.getInjectionToken(e,i),o=void 0===n?r:n;let l=this.providers.get(o);return this.injectWithProvider(o,l,t)})}getTokenName(e){return e instanceof i.InjectionToken?e.injectionIdentifier:e.name}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INTERNAL_PROVIDERS=void 0;const i=r(29),n=r(30),s=r(72),o=r(12),l=r(2),a=r(6),c=r(38),u=r(31),h=r(32),d=r(27),f=r(19),p=r(10);t.INTERNAL_PROVIDERS=[o.Helper,p.RenderAbstract,i.RouteRender,u.DialogRender,c.DialogBuilder,h.DialogRefCollector,n.HeaderRender,s.HttpClient,a.ElementListener,l.ElementListenersCollector,d.InternalObserversCollector,f.RouteParams]},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;const n=r(1),s=r(73),o=r(74),l=r(0),a=r(75);let c=class{get(e,t){return new Promise((r,i)=>{this.prepreAndGetXHR("GET",e,null,t).then(e=>{r(e)},e=>{i(e)})})}post(e,t,r){return new Promise((i,n)=>{this.prepreAndGetXHR("POST",e,t,r).then(e=>{i(e)},e=>{n(e)})})}put(e,t,r){return new Promise((i,n)=>{this.prepreAndGetXHR("PUT",e,t,r).then(e=>{i(e)},e=>{n(e)})})}patch(e,t,r){return new Promise((i,n)=>{this.prepreAndGetXHR("PATCH",e,t,r).then(e=>{i(e)},e=>{n(e)})})}del(e,t){return new Promise((r,i)=>{this.prepreAndGetXHR("DELETE",e,null,t).then(e=>{r(e)},e=>{i(e)})})}prepreAndGetXHR(e,t,r,i){return new Promise((n,c)=>{let u=new XMLHttpRequest,h=i?this.getUrlWithParams(t,i.params):t;i||(i=new s.HttpOptions),u.withCredentials=i.withCredentials,u.responseType=i.responseType?i.responseType:"json",u.open(e,h,!0),this.setHeaders(u,i.headers).isJson&&l.isObject(r)&&(r=JSON.stringify(r)),u.onreadystatechange=function(){if(4==u.readyState){let e={xhr:u,status:u.status};if(200==u.status){e.data=u.response;let t=new o.HttpResponse(e);n(t)}else{e.error=u.response;let t=new o.HttpResponse(e);c(t)}}},u.onerror=function(){c(new a.HttpError({xhr:u,status:u.status,error:u.response}))},u.send(r)})}setHeaders(e,t){let r={isJson:!1};if(t)if(l.isArray(t))for(let r of t)e.setRequestHeader(r,"");else for(let i in t){let n=t[i];"content-type"===i.toLowerCase()&&n.includes("application/json")&&(r.isJson=!0),e.setRequestHeader(i,n)}return t&&l.isArray(t)&&Object.keys(t).some(e=>"content-type"===e.toLowerCase())||(e.setRequestHeader("Content-Type","application/json"),r.isJson=!0),r}getUrlWithParams(e,t){if(t&&e)for(let r in t){let i=t[r];e.includes("?")?e+=`&${r}=${i}`:e+=`?${r}=${i}`}return e}};c=i([n.Injectable()],c),t.HttpClient=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpOptions=void 0;t.HttpOptions=class{constructor(){this.responseType="json",this.withCredentials=!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpResponse=void 0;t.HttpResponse=class{constructor(e){Object.assign(this,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpError=void 0;t.HttpError=class{constructor(e){Object.assign(this,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogRenderRef=void 0;const i=r(7);t.DialogRenderRef=class{constructor(e){this.listenerCancelFunctions=[],this.dialogRef=e.dialogRef,this.structuredTemplate=e.structuredTemplate,this.rootElement=document.createElement("nimble-dialog"),document.body.append(this.rootElement)}get dialogElement(){return this.structuredTemplate.compiledNode}get containerElement(){return this.rootElement.querySelector(".nimble-dialog-container")}get panelElement(){return this.rootElement.querySelector(".nimble-dialog-panel")}get areaElement(){return this.rootElement.querySelector(".nimble-dialog-area")}insertDialogArea(e){let t=this.containerElement;i.RenderHelper.removeAllChildrenOfElement(t),t.appendChild(e),this.applyConfigDimesions(),this.applyAnotherConfig()}closeElements(e){this.rootElement&&this.rootElement.classList.add("out"),this.containerElement&&this.containerElement.classList.add("out"),this.listenerCancelFunctions.forEach(e=>e()),setTimeout(()=>{e()},300)}removeFromDOM(){this.rootElement&&this.rootElement.parentElement&&this.rootElement.parentElement.removeChild(this.rootElement)}applyAnotherConfig(){var e,t;const r=null===(e=this.dialogRef.config)||void 0===e?void 0:e.panelClass;r&&(null===(t=this.panelElement)||void 0===t||t.classList.add(r))}applyConfigDimesions(){var e,t,r;let i=this.areaElement;i&&((null===(e=this.dialogRef.config)||void 0===e?void 0:e.width)&&(i.style.width=this.dialogRef.config.width),(null===(t=this.dialogRef.config)||void 0===t?void 0:t.maxWidth)&&(i.style.maxWidth=this.dialogRef.config.maxWidth),(null===(r=this.dialogRef.config)||void 0===r?void 0:r.minWidth)&&(i.style.minWidth=this.dialogRef.config.minWidth))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inPreRenderingStage=void 0,t.inPreRenderingStage=function(){return"pre-rendering"in window}},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(79),t);var s=r(15);Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return s.Observer}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatchAllExecuted=void 0,String.prototype.matchAll=function(e){let t=new i(this),r=this,n=e.exec(r);for(;n;)t.executeds.push({value:n}),r=r.replace(t[0],""),n=e.exec(r);return t};class i{constructor(e){this.executeds=[],this.input=e}next(){let e=null;return this.executeds.length>0&&(e=this.executeds[0],this.executeds=this.executeds.slice(1)),e}}t.MatchAllExecuted=i},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);const i=[{path:"",page:()=>r.e(2).then(r.bind(null,107)).then(e=>e.RootPage),children:[{path:"",page:()=>r.e(1).then(r.bind(null,108)).then(e=>e.HomePage)}]}];r(33).NimbleApp.config({routes:i,directives:[],providers:[]}).start()}]);